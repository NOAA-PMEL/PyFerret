<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
  xmlns:schema="http://schema.org/">

<!-- Mirrored from ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2023 18:11:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="XPRESSIONS.html" />
<link rel="shortlink" href="https://ferret.pmel.noaa.gov/Ferret/node/726" />
<link rel="shortcut icon" href="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/favicon-32.png" type="image/png" />
<link rel="apple-touch-icon" href="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/apple-touch-icon-152x152.png" type="image/png" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
  <title>3.2 EXPRESSIONS | Science Data Integration Group - Ferret Support</title>  
  <style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.base.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.menus.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.messages.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.theme.css?rw9vml");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css?rw9vml");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/calendar/css/calendar_multiday.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/field/theme/field.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald/modules/fields/mee/css/editor-global.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/node/node.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald_file/scald_file.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/search/search.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/user/user.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/views/css/views.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/ckeditor/css/ckeditor.css?rw9vml");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/ctools/css/ctools.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/custom_search/custom_search.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/search_autocomplete/css/themes/minimal.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish-smallscreen.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish-vertical.css?rw9vml");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/ckeditor_custom.css?rw9vml");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-reset.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-mobile.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-alpha.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/formalize.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-text.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-branding.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-menu.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-forms.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-visuals.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/global.css?rw9vml");
</style>

<!--[if (lt IE 9)&(!IEMobile)]>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-normal.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?rw9vml");
</style>
<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-narrow.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/narrow/alpha-default-narrow-12.css?rw9vml");
</style>
<!--<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-normal.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?rw9vml");
</style>
<!--<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 1220px)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css?rw9vml");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css?rw9vml");
</style>
<!--<![endif]-->
	
	<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=DOC&amp;subagency=NOAA&amp;pua=UA-96523701-1"></script>
	
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.jQuery || document.write("<script src='https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/jquery/1.12/jquery.min.js'>\x3C/script>")
//--><!]]>
</script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery-extend-3.4.0.js?v=1.12.4"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery-html-prefilter-3.5.0-backport.js?v=1.12.4"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/drupal.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/js/jquery_browser.js?v=0.0.1"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.jQuery.ui || document.write("<script src='https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/ui/minified/jquery-ui.min.js'>\x3C/script>")
//--><!]]>
</script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/ui/jquery.ui.position-1.13.0-backport.js?v=1.10.2"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/entityreference/js/entityreference.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/custom_search/js/custom_search.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald_file/scald_file.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald/modules/providers/scald_image/scald_image.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/search_autocomplete/js/jquery.autocomplete.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/jquery.hoverIntent.minified.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/sfsmallscreen.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/supposition.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/superfish.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/supersubs.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/superfish/superfish.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/js/pacific_marine.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/jquery.formalize.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/omega-mediaqueries.js?rw9vml"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/omega-equalheights.js?rw9vml"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/Ferret\/","pathPrefix":"","setHasJsCookie":0,"ajaxPageState":{"theme":"pacific_marine","theme_token":"r_fztXWjsWuw62VpzisxwxcxIf5_kmcDGsf32A5TQQ0","js":{"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.12.4\/jquery.min.js":1,"0":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/jquery_update\/js\/jquery_browser.js":1,"\/\/ajax.googleapis.com\/ajax\/libs\/jqueryui\/1.10.2\/jquery-ui.min.js":1,"1":1,"misc\/ui\/jquery.ui.position-1.13.0-backport.js":1,"sites\/all\/modules\/entityreference\/js\/entityreference.js":1,"sites\/all\/modules\/custom_search\/js\/custom_search.js":1,"sites\/all\/modules\/scald_file\/scald_file.js":1,"sites\/all\/modules\/scald\/modules\/providers\/scald_image\/scald_image.js":1,"sites\/all\/modules\/search_autocomplete\/js\/jquery.autocomplete.js":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/sfsmallscreen.js":1,"sites\/all\/libraries\/superfish\/supposition.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/modules\/superfish\/superfish.js":1,"sites\/all\/themes\/pacific_marine\/js\/pacific_marine.js":1,"sites\/all\/themes\/omega\/omega\/js\/jquery.formalize.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-mediaqueries.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-equalheights.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"misc\/ui\/jquery.ui.core.css":1,"misc\/ui\/jquery.ui.theme.css":1,"misc\/ui\/jquery.ui.menu.css":1,"misc\/ui\/jquery.ui.autocomplete.css":1,"sites\/all\/modules\/calendar\/css\/calendar_multiday.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/scald\/modules\/fields\/mee\/css\/editor-global.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/scald_file\/scald_file.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/custom_search\/custom_search.css":1,"sites\/all\/modules\/search_autocomplete\/css\/themes\/minimal.css":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-smallscreen.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-vertical.css":1,"sites\/all\/themes\/pacific_marine\/css\/ckeditor_custom.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-reset.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-mobile.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-alpha.css":1,"sites\/all\/themes\/omega\/omega\/css\/formalize.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-text.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-branding.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-menu.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-forms.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-visuals.css":1,"sites\/all\/themes\/pacific_marine\/css\/global.css":1,"ie::normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"ie::normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-normal.css":1,"ie::normal::sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"narrow::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"narrow::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-narrow.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/narrow\/alpha-default-narrow-12.css":1,"normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-normal.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"wide::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"wide::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-wide.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/wide\/alpha-default-wide-12.css":1}},"custom_search":{"form_target":"_self","solr":0},"scaldFile":{"path":"sites\/all\/modules\/scald_file\/scald_file.css"},"search_autocomplete":{"form3":{"selector":"#edit-search-block-form--2","minChars":"3","max_sug":"10","type":"internal","datas":"https:\/\/ferret.pmel.noaa.gov\/Ferret\/search_autocomplete\/autocomplete\/3\/","fid":"3","theme":"minimal","auto_submit":"1","auto_redirect":"1"}},"urlIsAjaxTrusted":{"\/Ferret\/documentation\/users-guide\/variables-xpressions\/XPRESSIONS":true},"superfish":{"1":{"id":"1","sf":{"animation":{"opacity":"show","height":"show"},"speed":"fast"},"plugins":{"smallscreen":{"mode":"window_width","breakpointUnit":"px","title":"Documentation"},"supposition":true,"supersubs":true}}},"omega":{"layouts":{"primary":"normal","order":["narrow","normal","wide"],"queries":{"narrow":"all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)","normal":"all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)","wide":"all and (min-width: 1220px)"}}}});
//--><!]]>
</script>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body class="html not-front not-logged-in page-node page-node- page-node-726 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="https://ferret.pmel.noaa.gov/Ferret/" rel="home" title=""><img src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/header-logo.png" alt="" id="logo" /></a>      </div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div id="noaa-doc">
<div class="logos">
<div class="logo" id="doc-logo"><a href="https://www.commerce.gov/" target="_blank"><img alt="Department of Commerce logo" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/doc_logo.png" style="width: 40px; height: 40px;" /></a></div>
<div class="logo" id="noaa-logo"><a href="https://www.noaa.gov/" target="_blank"><img alt="National Oceanic and Atmospheric Administration logo" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/noaa_logo.png" style="width: 40px; height: 40px;" /></a></div>
</div>
<div class="words">National Oceanic and<br />
Atmospheric Administration<br /><span id="doc">United States Department of Commerce</span></div>
</div>
    </div>
  </div>
</div><div class="block block-search block-form block-search-form even block-without-title" id="block-search-form">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <form class="search-form" role="search" action="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search PMEL </label>
 <input title="Enter the terms you wish to search for." class="custom-search-box form-text" placeholder="Search Ferret" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input style="display:none;" type="submit" id="edit-submit" name="op" value="" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-No530moDgzx5Ti5AJG-xcPn-MTp9Ycr8ohxXJ9Ucaks" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>    </div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first expanded"><a href="https://ferret.pmel.noaa.gov/Ferret/">Home</a><ul class="menu"><li class="first leaf"><a href="http://www.pmel.noaa.gov/project/science-data-integration">SDIG Home</a></li>
<li class="leaf"><a href="https://ferret.pmel.noaa.gov/Ferret/">Ferret/PyFerret Home</a></li>
<li class="last leaf"><a href="http://ferret.pmel.noaa.gov/LAS">LAS Home</a></li>
</ul></li>
<li class="leaf"><a href="../../ferret-documentation.html">Documentation</a></li>
<li class="collapsed"><a href="https://ferret.pmel.noaa.gov/Ferret/downloads">Downloads</a></li>
<li class="leaf"><a href="https://ferret.pmel.noaa.gov/Ferret/faq">FAQ</a></li>
<li class="leaf"><a href="https://ferret.pmel.noaa.gov/Ferret/email-users-group">eMail Users Group</a></li>
<li class="last collapsed"><a href="https://ferret.pmel.noaa.gov/Ferret/support/ferret-support">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header>    
      <section id="section-content" class="section section-content">
  <div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
  <div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
    <div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
  <div class="region-inner region-preface-first-inner">
      </div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
  <div class="region-inner region-preface-second-inner">
      </div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
  <div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    
          <div id="breadcrumb" class="grid-12"><h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="https://ferret.pmel.noaa.gov/Ferret/">Home</a> > <a href="../../ferret-documentation.html">Documentation</a> > <a href="../../users-guide.html">Ferret User&#039;s Guide</a> > <a href="../variables-xpressions.html">3. Variables &amp; Expressions</a> > 3.2 EXPRESSIONS</div></div>
        
        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li><li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent"><a href="../../users-guide.html" class="sf-depth-2 menuparent">Ferret User&#039;s Guide</a><ul><li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../full-index/index.html" class="sf-depth-3">Users Guide Index</a></li><li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="../commands-reference/chapter-commnad-references.html" class="sf-depth-3 menuparent">Commands Reference</a><ul><li id="menu-1175-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../commands-reference/ALIAS.html" class="sf-depth-4">ALIAS</a></li><li id="menu-1176-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../commands-reference/CANCEL.html" class="sf-depth-4">CANCEL</a></li><li id="menu-1177-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../commands-reference/CONTOUR.html" class="sf-depth-4">CONTOUR</a></li><li id="menu-1178-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../commands-reference/DEFINE.html" class="sf-depth-4">DEFINE</a></li><li id="menu-1179-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../commands-reference/ELIF.html" class="sf-depth-4">ELIF</a></li><li id="menu-1180-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../commands-reference/ELSE.html" class="sf-depth-4">ELSE</a></li><li id="menu-1181-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../commands-reference/ENDIF.html" class="sf-depth-4">ENDIF</a></li><li id="menu-1182-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../commands-reference/EXIT.html" class="sf-depth-4">EXIT</a></li><li id="menu-1183-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="../commands-reference/FILE.html" class="sf-depth-4">FILE</a></li><li id="menu-1184-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="../commands-reference/FILL.html" class="sf-depth-4">FILL</a></li><li id="menu-1185-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="../commands-reference/FRAME.html" class="sf-depth-4">FRAME</a></li><li id="menu-1186-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="../commands-reference/GO.html" class="sf-depth-4">GO</a></li><li id="menu-1187-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="../commands-reference/HELP.html" class="sf-depth-4">HELP</a></li><li id="menu-1188-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="../commands-reference/IF.html" class="sf-depth-4">IF</a></li><li id="menu-1189-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="../commands-reference/LABEL.html" class="sf-depth-4">LABEL</a></li><li id="menu-1190-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="../commands-reference/LET.html" class="sf-depth-4">LET</a></li><li id="menu-1191-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="../commands-reference/LIST.html" class="sf-depth-4">LIST</a></li><li id="menu-1192-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="../commands-reference/LOAD.html" class="sf-depth-4">LOAD</a></li><li id="menu-1193-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="../commands-reference/MESSAGE.html" class="sf-depth-4">MESSAGE</a></li><li id="menu-1194-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="../commands-reference/PALETTE.html" class="sf-depth-4">PALETTE</a></li><li id="menu-1195-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="../commands-reference/PATTERN.html" class="sf-depth-4">PATTERN</a></li><li id="menu-1196-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="../commands-reference/PAUSE.html" class="sf-depth-4">PAUSE</a></li><li id="menu-1197-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="../commands-reference/PLOT.html" class="sf-depth-4">PLOT</a></li><li id="menu-1198-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="../commands-reference/POLYGON.html" class="sf-depth-4">POLYGON</a></li><li id="menu-1199-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="../commands-reference/PPLUS.html" class="sf-depth-4">PPLUS</a></li><li id="menu-1200-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="../commands-reference/QUERY.html" class="sf-depth-4">QUERY</a></li><li id="menu-1201-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="../commands-reference/QUIT.html" class="sf-depth-4">QUIT</a></li><li id="menu-1202-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="../commands-reference/REPEAT.html" class="sf-depth-4">REPEAT</a></li><li id="menu-1203-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="../commands-reference/SAVE.html" class="sf-depth-4">SAVE</a></li><li id="menu-1204-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="../commands-reference/SAY.html" class="sf-depth-4">SAY</a></li><li id="menu-1205-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="../commands-reference/SET.html" class="sf-depth-4">SET</a></li><li id="menu-1206-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="../commands-reference/SHADE.html" class="sf-depth-4">SHADE</a></li><li id="menu-1207-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="../commands-reference/SHOW.html" class="sf-depth-4">SHOW</a></li><li id="menu-1208-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="../commands-reference/SPAWN.html" class="sf-depth-4">SPAWN</a></li><li id="menu-1209-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="../commands-reference/STATISTICS.html" class="sf-depth-4">STATISTICS</a></li><li id="menu-1210-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="../commands-reference/UNALIAS.html" class="sf-depth-4">UNALIAS</a></li><li id="menu-1211-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="../commands-reference/VECTOR.html" class="sf-depth-4">VECTOR</a></li><li id="menu-1212-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="../commands-reference/USE.html" class="sf-depth-4">USE</a></li><li id="menu-1213-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="../commands-reference/USER.html" class="sf-depth-4">USER</a></li><li id="menu-1214-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="../commands-reference/WI.html" class="sf-depth-4">WIRE</a></li><li id="menu-1215-1" class="last odd sf-item-41 sf-depth-4 sf-no-children"><a href="../commands-reference/WHERE.html" class="sf-depth-4">WHERE</a></li></ul></li><li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="../introduction.html" class="sf-depth-3 menuparent">1. Introduction</a><ul><li id="menu-1230-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../introduction/OVERVIEW.html" class="sf-depth-4">1.1 OVERVIEW</a></li><li id="menu-1231-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../introduction/GETTING-STARTED.html" class="sf-depth-4">1.2 GETTING STARTED</a></li><li id="menu-1232-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../introduction/COMMON-COMMANDS.html" class="sf-depth-4">1.3 COMMON COMMANDS</a></li><li id="menu-1233-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../introduction/COMMAND-SYNTAX.html" class="sf-depth-4">1.4 COMMAND SYNTAX</a></li><li id="menu-1234-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../introduction/GO-FILES.html" class="sf-depth-4">1.5 GO FILES</a></li><li id="menu-1235-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../introduction/SAMPLE-DATA-SETS.html" class="sf-depth-4">1.6 SAMPLE DATA SETS</a></li><li id="menu-1236-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../introduction/UNIX-TOOLS.html" class="sf-depth-4">1.7 UNIX TOOLS</a></li><li id="menu-1237-1" class="last even sf-item-8 sf-depth-4 sf-no-children"><a href="../introduction/HELP.html" class="sf-depth-4">1.8 HELP</a></li></ul></li><li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../data-set-basics.html" class="sf-depth-3 menuparent">2. Data Set Basics</a><ul><li id="menu-1238-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../data-set-basics/OVERVIEW.html" class="sf-depth-4">2.1 OVERVIEW</a></li><li id="menu-1239-1" class="middle even sf-item-2 sf-depth-4 sf-total-children-1 sf-parent-children-0 sf-single-children-1 menuparent"><a href="../data-set-basics/NETCDF-DATA.html" class="sf-depth-4 menuparent">2.2 NETCDF DATA</a><ul><li id="menu-1593-1" class="firstandlast odd sf-item-1 sf-depth-5 sf-no-children"><a href="../../udunits.html" class="sf-depth-5">udunits.dat</a></li></ul></li><li id="menu-1240-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../data-set-basics/TMAP-FORMATTED-DATA.html" class="sf-depth-4">2.3 TMAP-FORMATTED DATA</a></li><li id="menu-1241-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../data-set-basics/BINARY-DATA.html" class="sf-depth-4">2.4 BINARY DATA</a></li><li id="menu-1243-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../data-set-basics/ASCII-DATA.html" class="sf-depth-4">2.5 ASCII DATA</a></li><li id="menu-1242-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../data-set-basics/TRICKS-TO-READING-BINARY-AND-ASCII-FILES.html" class="sf-depth-4">2.6 TRICKS TO READING BINARY AND ASCII FILES</a></li><li id="menu-1244-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../data-set-basics/ACCESS-TO-REMOTE-DATA-SETS-WITH-DODS.html" class="sf-depth-4">2.7 ACCESS TO REMOTE DATA SETS WITH OPeNDAP</a></li><li id="menu-1246-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="https://ferret.pmel.noaa.gov/Ferret/" class="sf-depth-4">dsg_trajectories</a></li><li id="menu-1247-1" class="last odd sf-item-9 sf-depth-4 sf-no-children"><a href="https://ferret.pmel.noaa.gov/Ferret/" class="sf-depth-4">dsg_profiles</a></li></ul></li><li id="menu-1392-1" class="active-trail middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../variables-xpressions.html" class="sf-depth-3 menuparent">3. Variables &amp; Expressions</a><ul><li id="menu-1248-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="VARIABLES.html" class="sf-depth-4">3.1 VARIABLES</a></li><li id="menu-1249-1" class="active-trail middle even sf-item-2 sf-depth-4 sf-no-children"><a href="XPRESSIONS.html" class="sf-depth-4 active">3.2 EXPRESSIONS</a></li><li id="menu-1250-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="EMBEDDED-XPRESSIONS.html" class="sf-depth-4">3.3 EMBEDDED EXPRESSIONS</a></li><li id="menu-1251-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="DEFINING-NEW-VARIABLES.html" class="sf-depth-4">3.4 DEFINING NEW VARIABLES</a></li><li id="menu-1252-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="DEBUGGING-COMPLEX-HIERARCHIES-OF-XPRESSIONS.html" class="sf-depth-4">3.5 DEBUGGING COMPLEX HIERARCHIES OF EXPRESSIONS</a></li></ul></li><li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../Grids-Regions.html" class="sf-depth-3 menuparent">4. Grids &amp; Regions</a><ul><li id="menu-1253-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../Grids-Regions/OVERVIEW.html" class="sf-depth-4">4.1 OVERVIEW</a></li><li id="menu-1254-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../Grids-Regions/GRIDS.html" class="sf-depth-4">4.2 GRIDS</a></li><li id="menu-1255-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../Grids-Regions/REGIONS.html" class="sf-depth-4">4.3 REGIONS</a></li><li id="menu-1256-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="../Grids-Regions/FERRET-PROGRAM-LIMITS.html" class="sf-depth-4">4.4 FERRET PROGRAM LIMITS</a></li></ul></li><li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../animations-gif-images.html" class="sf-depth-3 menuparent">5. Animations &amp; Gif Images</a><ul><li id="menu-1257-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../animations-gif-images/OVERVIEW.html" class="sf-depth-4">5.1 OVERVIEW</a></li><li id="menu-1258-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../animations-gif-images/CREATING-AN-HDF-MOVIE.html" class="sf-depth-4">5.2 CREATING AN HDF MOVIE</a></li><li id="menu-1259-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../animations-gif-images/DISPLAYING-AN-HDF-MOVIE.html" class="sf-depth-4">5.3 DISPLAYING AN HDF MOVIE</a></li><li id="menu-1260-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../animations-gif-images/ADVANCED-MOVIE-MAKING.html" class="sf-depth-4">5.4 ADVANCED MOVIE-MAKING</a></li><li id="menu-1261-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../animations-gif-images/CREATING-GIF-IMAGES.html" class="sf-depth-4">5.5 CREATING GIF IMAGES</a></li></ul></li><li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="../customizing-plots.html" class="sf-depth-3 menuparent">6. Customizing Plots</a><ul><li id="menu-1262-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../customizing-plots/OVERVIEW.html" class="sf-depth-4">6.1 OVERVIEW</a></li><li id="menu-1263-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../customizing-plots/GRAPHICAL-OUTPUT.html" class="sf-depth-4">6.2 GRAPHICAL OUTPUT</a></li><li id="menu-1264-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../customizing-plots/AXES.html" class="sf-depth-4">6.3 AXES</a></li><li id="menu-1265-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../customizing-plots/LABELS.html" class="sf-depth-4">6.4 LABELS</a></li><li id="menu-1266-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../customizing-plots/COLOR.html" class="sf-depth-4">6.5 COLOR</a></li><li id="menu-1267-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../customizing-plots/FONTS.html" class="sf-depth-4">6.6 FONTS</a></li><li id="menu-1268-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../customizing-plots/PLOT-LAYOUT.html" class="sf-depth-4">6.7 PLOT LAYOUT</a></li><li id="menu-1269-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../customizing-plots/CONTOURING.html" class="sf-depth-4">6.8 CONTOURING</a></li><li id="menu-1270-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="../customizing-plots/SPECIAL-SYMBOLS.html" class="sf-depth-4">6.9 SPECIAL SYMBOLS</a></li><li id="menu-1617-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="../customizing-plots/MAP-PROJECTIONS-AND-CURVILINEAR-COORDINATES.html" class="sf-depth-4">6.10 MAP PROJECTIONS AND CURVILINEAR COORDINATES</a></li><li id="menu-1272-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="../customizing-plots/linecolors.gif/view.html" class="sf-depth-4">LINECOLORS example</a></li><li id="menu-1273-1" class="last even sf-item-12 sf-depth-4 sf-no-children"><a href="../customizing-plots/Chapter6_plotuv.png/view.html" class="sf-depth-4">PLOTUV example</a></li></ul></li><li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="../handing-string-data-symbols.html" class="sf-depth-3 menuparent">7. Handing String Data Symbols</a><ul><li id="menu-1274-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/STRING-VARIABLES.html" class="sf-depth-4">7.1 STRING VARIABLES</a></li><li id="menu-1275-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/STRING-FUNCTIONS.html" class="sf-depth-4">7.2 STRING FUNCTIONS</a></li><li id="menu-1276-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/SYMBOL-COMMANDS.html" class="sf-depth-4">7.3 SYMBOL COMMANDS</a></li><li id="menu-1277-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/AUTOMATICALLY-GENERATED-SYMBOLS.html" class="sf-depth-4">7.4 AUTOMATICALLY GENERATED SYMBOLS</a></li><li id="menu-1278-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/USE-WITH-EMBEDDED-EXPRESSIONS.html" class="sf-depth-4">7.5 USE WITH EMBEDDED EXPRESSIONS</a></li><li id="menu-1279-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/ORDER-OF-STRING-SUBSTITUTIONS.html" class="sf-depth-4">7.6 ORDER OF STRING SUBSTITUTIONS</a></li><li id="menu-1280-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/CUSTOMIZING-THE-POSITION-AND-STYLE%20OF%20PLOT%20LABELS.html" class="sf-depth-4">7.7 CUSTOMIZING THE POSITION AND STYLE OF PLOT LABELS</a></li><li id="menu-1281-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/USING-SYMBOLS-IN-COMMAND-FILES.html" class="sf-depth-4">7.8 USING SYMBOLS IN COMMAND FILES</a></li><li id="menu-1282-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/PLOT-STRING-EDITING-TOOLS.html" class="sf-depth-4">7.9 PLOT+ STRING EDITING TOOLS</a></li><li id="menu-1283-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/SYMBOL-EDITING.html" class="sf-depth-4">7.10 SYMBOL EDITING</a></li><li id="menu-1284-1" class="last odd sf-item-11 sf-depth-4 sf-no-children"><a href="../handing-string-data-symbols/SPECIAL-SYMBOLS.html" class="sf-depth-4">7.11 SPECIAL SYMBOLS</a></li></ul></li><li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="../working-with-special-data-sets.html" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a><ul><li id="menu-1285-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/WHAT-IS-NON-GRIDDED-DATA.html" class="sf-depth-4">8.1 WHAT IS NON-GRIDDED DATA?</a></li><li id="menu-1286-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/POINT-DATA.html" class="sf-depth-4">8.2 POINT DATA</a></li><li id="menu-1287-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/VERTICAL-PROFILES.html" class="sf-depth-4">8.3 VERTICAL PROFILES</a></li><li id="menu-1288-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/COLLECTIONS-OF-TIME-SERIES.html" class="sf-depth-4">8.4 COLLECTIONS OF TIME SERIES</a></li><li id="menu-1289-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/COLLECTIONS-OF-2-DIMENSIONAL-GRIDS.html" class="sf-depth-4">8.5 COLLECTIONS OF 2-DIMENSIONAL GRIDS</a></li><li id="menu-1290-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/LAGRANGIAN-DATA.html" class="sf-depth-4">8.6 LAGRANGIAN DATA</a></li><li id="menu-1291-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/SIGMA-COORDINATE-DATA.html" class="sf-depth-4">8.7 SIGMA COORDINATE DATA</a></li><li id="menu-1292-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/CURVILINEAR-COORDINATE-DATA.html" class="sf-depth-4">8.8 CURVILINEAR COORDINATE DATA</a></li><li id="menu-1293-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/POLYGONAL-DATA.html" class="sf-depth-4">8.9 POLYGONAL DATA</a></li><li id="menu-1245-1" class="last even sf-item-10 sf-depth-4 sf-no-children"><a href="../working-with-special-data-sets/DSG_datasets.html" class="sf-depth-4">8.10 Discrete Geometries Datasets</a></li></ul></li><li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="../computing-environment.html" class="sf-depth-3 menuparent">9. Computing Environment</a><ul><li id="menu-1294-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../computing-environment/SETTING-UP-TO-RUN-FERRET.html" class="sf-depth-4">9.1 SETTING UP TO RUN FERRET</a></li><li id="menu-1295-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../computing-environment/FILES-AND-ENVIRONMENT-VARIABLES-USED-BY-FERRET.html" class="sf-depth-4">9.2 FILES AND ENVIRONMENT VARIABLES USED BY FERRET</a></li><li id="menu-1296-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../computing-environment/MEMORY-USE.html" class="sf-depth-4">9.3 MEMORY USE</a></li><li id="menu-1297-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../computing-environment/HARD-COPY-AND-METAFILE-TRANSLATION.html" class="sf-depth-4">9.4 HARD COPY AND METAFILE TRANSLATION</a></li><li id="menu-1298-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../computing-environment/OUTPUT-FILE-NAMING.html" class="sf-depth-4">9.5 OUTPUT FILE NAMING</a></li><li id="menu-1299-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../computing-environment/INPUT-FILE-NAMING.html" class="sf-depth-4">9.6 INPUT FILE NAMING</a></li><li id="menu-1300-1" class="last odd sf-item-7 sf-depth-4 sf-no-children"><a href="../computing-environment/my_ferret_paths_template.html" class="sf-depth-4">my_ferret_paths_template</a></li></ul></li><li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../converting-to-netcdf.html" class="sf-depth-3 menuparent">10. Converting to NetCDF</a><ul><li id="menu-1301-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../converting-to-netcdf/OVERVIEW.html" class="sf-depth-4">10.1 OVERVIEW</a></li><li id="menu-1302-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../converting-to-netcdf/SIMPLE-CONVERSIONS-USING-FERRET.html" class="sf-depth-4">10.2 SIMPLE CONVERSIONS USING FERRET</a></li><li id="menu-1303-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../converting-to-netcdf/WRITING-A-CONVERSION-PROGRAM.html" class="sf-depth-4">10.3 WRITING A CONVERSION PROGRAM</a></li><li id="menu-1304-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="../converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET.html" class="sf-depth-4">10.4 CREATING A MULTI-FILE NETCDF DATA SET</a></li></ul></li><li id="menu-1400-1" class="middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="../writing-external-functions.html" class="sf-depth-3 menuparent">11. Writing External Functions</a><ul><li id="menu-1305-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../writing-external-functions/OVERVIEW.html" class="sf-depth-4">11.1 OVERVIEW</a></li><li id="menu-1306-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../writing-external-functions/GETTING-STARTED.html" class="sf-depth-4">11.2 GETTING STARTED</a></li><li id="menu-1307-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../writing-external-functions/QUICK-START-EXAMPLE.html" class="sf-depth-4">11.3 QUICK START EXAMPLE</a></li><li id="menu-1308-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION.html" class="sf-depth-4">11.4 ANATOMY OF AN EXTERNAL FUNCTION</a></li><li id="menu-1309-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../writing-external-functions/NOTES-AND-SUGGESTIONS.html" class="sf-depth-4">11.5 NOTES AND SUGGESTIONS</a></li><li id="menu-1310-1" class="last even sf-item-6 sf-depth-4 sf-no-children"><a href="../writing-external-functions/UTILITY-FUNCTIONS.html" class="sf-depth-4">11.6 UTILITY FUNCTIONS</a></li></ul></li><li id="menu-1166-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../glossary/glossary.html" class="sf-depth-3">Glossary</a></li><li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="../appendix-a-external-functions/appendix-a.html" class="sf-depth-3 menuparent">Appendix A: Functions</a><ul><li id="menu-1597-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/BIN_INDEX_WT.html" class="sf-depth-4">BIN_INDEX_WT</a></li><li id="menu-1430-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/COMPRESSI.html" class="sf-depth-4">COMPRESSI (and J,K,L,M,N)</a></li><li id="menu-1431-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/COMPRESSI-BY.html" class="sf-depth-4">COMPRESSI_BY (and J,K,L,M,N)</a></li><li id="menu-1432-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/CONVOLVEI.html" class="sf-depth-4">CONVOLVEI</a></li><li id="menu-1428-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/CURV-TO-RECT.html" class="sf-depth-4">CURV_TO_RECT</a></li><li id="menu-1429-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/CURV-TO-RECT-MAP.html" class="sf-depth-4">CURV_TO_RECT_MAP</a></li><li id="menu-1433-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/DATE1900.html" class="sf-depth-4">DATE1900</a></li><li id="menu-1434-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/DAYS1900TOYMDHMS.html" class="sf-depth-4">DAYS1900TOYMDHMS</a></li><li id="menu-1601-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/DOT.html" class="sf-depth-4">DOT</a></li><li id="menu-1437-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ecat.html" class="sf-depth-4">ECAT and ECAT_STR</a></li><li id="menu-1438-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ELEMENT-INDEX.html" class="sf-depth-4">ELEMENT_INDEX</a></li><li id="menu-1439-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ELEMENT-INDEX-STRING.html" class="sf-depth-4">ELEMENT_INDEX_STR</a></li><li id="menu-1440-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/EOF-SPACE.html" class="sf-depth-4">EOF_SPACE and EOFSVD_SPACE</a></li><li id="menu-1441-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/EOF-STAT.html" class="sf-depth-4">EOF_STAT and EOFSVD_STAT</a></li><li id="menu-1442-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/EOF-TFUNC.html" class="sf-depth-4">EOF_TFUNC and EOFSVD_TFUNC</a></li><li id="menu-1443-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expnd_by_len.html" class="sf-depth-4">EXPND_BY_LEN and EXPND_BY_LEN_STR</a></li><li id="menu-1444-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_by.html" class="sf-depth-4">EXPNDI_BY</a></li><li id="menu-1445-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_by_m_counts.html" class="sf-depth-4">EXPNDI_BY_M_COUNTS</a></li><li id="menu-1446-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_by_t.html" class="sf-depth-4">EXPNDI_BY_T</a></li><li id="menu-1447-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_by_z.html" class="sf-depth-4">EXPNDI_BY_Z</a></li><li id="menu-1448-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_by_z_counts-and-expndi_id_by_z_counts.html" class="sf-depth-4">EXPNDI_BY_Z_COUNTS</a></li><li id="menu-1449-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/expndi_id_by_z_counts.html" class="sf-depth-4">EXPNDI_ID_BY_Z_COUNTS</a></li><li id="menu-1436-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/fcat.html" class="sf-depth-4">FCAT</a></li><li id="menu-1435-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/fc_isubset.html" class="sf-depth-4">FC_ISUBSET</a></li><li id="menu-1450-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/FFT-IM.html" class="sf-depth-4">FFT_IM</a></li><li id="menu-1451-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/FFT-INVERSE.html" class="sf-depth-4">FFT_INVERSE</a></li><li id="menu-1453-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/FFT-RE.html" class="sf-depth-4">FFT_RE</a></li><li id="menu-1452-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/fill_xy.html" class="sf-depth-4">FILL_XY</a></li><li id="menu-1454-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/FINDHI.html" class="sf-depth-4">FINDHI</a></li><li id="menu-1455-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/FINDLO.html" class="sf-depth-4">FINDLO</a></li><li id="menu-1456-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/IS-ELEMENT-OF.html" class="sf-depth-4">IS_ELEMENT_OF</a></li><li id="menu-1458-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/LANCZOS.html" class="sf-depth-4">LANCZOS</a></li><li id="menu-1459-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/lon_lat_time_string.html" class="sf-depth-4">LON_LAT_TIME_STRING</a></li><li id="menu-1460-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/LSL-LOWPASS.html" class="sf-depth-4">LSL_LOWPASS</a></li><li id="menu-1461-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/MINUTES24.html" class="sf-depth-4">MINUTES24</a></li><li id="menu-1462-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/NCO.html" class="sf-depth-4">NCO</a></li><li id="menu-1463-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/NCO_ATTR.html" class="sf-depth-4">NCO_ATTR</a></li><li id="menu-1464-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/pt_in_poly.html" class="sf-depth-4">PT_IN_POLY</a></li><li id="menu-1465-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/RECT-TO-CURV.html" class="sf-depth-4">RECT_TO_CURV</a></li><li id="menu-1466-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/samplexy_curv_avg.html" class="sf-depth-4">SAMPLEXY_CURV_AVG</a></li><li id="menu-1467-1" class="middle odd sf-item-41 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/samplexy_curv_nrst.html" class="sf-depth-4">SAMPLEXY_CURV_NRST</a></li><li id="menu-1468-1" class="middle even sf-item-42 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/samplexyt.html" class="sf-depth-4">SAMPLEXYT</a></li><li id="menu-1469-1" class="middle odd sf-item-43 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/samplexz.html" class="sf-depth-4">SAMPLEXZ</a></li><li id="menu-1470-1" class="middle even sf-item-44 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/sampleyz.html" class="sf-depth-4">SAMPLEYZ</a></li><li id="menu-1472-1" class="middle odd sf-item-45 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/scat2grid_bin_xy.html" class="sf-depth-4">SCAT2GRID_BIN_XY and SCAT2GRID_BIN_XYT</a></li><li id="menu-1473-1" class="middle even sf-item-46 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/scatgrid_nbin_xyt.html" class="sf-depth-4">SCAT2GRID_NBIN_XY and SCAT2GRID_NBIN_XYT</a></li><li id="menu-1471-1" class="middle odd sf-item-47 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/scat2grid_nobs_xy.html" class="sf-depth-4">SCAT2GRID_NOBS_XY</a></li><li id="menu-1474-1" class="middle even sf-item-48 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/separate.html" class="sf-depth-4">SEPARATE</a></li><li id="menu-1475-1" class="middle odd sf-item-49 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/tax_datestring.html" class="sf-depth-4">TAX_DATESTRING</a></li><li id="menu-1477-1" class="middle even sf-item-50 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/TCAT.html" class="sf-depth-4">TCAT</a></li><li id="menu-1476-1" class="middle odd sf-item-51 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/test_opendap.html" class="sf-depth-4">TEST_OPENDAP</a></li><li id="menu-1599-1" class="middle even sf-item-52 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/TRANSPOSE.html" class="sf-depth-4">TRANSPOSE</a></li><li id="menu-1478-1" class="middle odd sf-item-53 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/WRITEV5D.html" class="sf-depth-4">WRITEV5D</a></li><li id="menu-1481-1" class="middle even sf-item-54 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/XCAT.html" class="sf-depth-4">XCAT</a></li><li id="menu-1482-1" class="middle odd sf-item-55 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/YCAT.html" class="sf-depth-4">YCAT</a></li><li id="menu-1479-1" class="middle even sf-item-56 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ZAXREPLACE-AVG.html" class="sf-depth-4">ZAXREPLACE_AVG</a></li><li id="menu-1480-1" class="middle odd sf-item-57 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ZAXREPLACE-BIN.html" class="sf-depth-4">ZAXREPLACE_BIN</a></li><li id="menu-1483-1" class="last even sf-item-58 sf-depth-4 sf-no-children"><a href="../appendix-a-external-functions/ZCAT.html" class="sf-depth-4">ZCAT</a></li></ul></li><li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../appendix-b-pplus-guide/appendix-b-pplus-guide.html" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a><ul><li id="menu-1311-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/INTRODUCTION.html" class="sf-depth-4">INTRODUCTION</a></li><li id="menu-1312-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/GETTING-STARTED.html" class="sf-depth-4">GETTING STARTED</a></li><li id="menu-1313-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/COMMAND-FORMAT.html" class="sf-depth-4">COMMAND FORMAT</a></li><li id="menu-1314-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/COMMAND-SYNOPSIS.html" class="sf-depth-4">COMMAND SYNOPSIS</a></li><li id="menu-1315-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/BEGINNERS-GUIDE.html" class="sf-depth-4">BEGINNERS GUIDE</a></li><li id="menu-1316-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/ROUTING-PLOT-FILES.html" class="sf-depth-4">ROUTING PLOT FILES</a></li><li id="menu-1317-1" class="middle odd sf-item-7 sf-depth-4 sf-total-children-2 sf-parent-children-0 sf-single-children-2 menuparent"><a href="../appendix-b-pplus-guide/PPLUS-COMMAND-FILES.html" class="sf-depth-4 menuparent">PPLUS COMMAND FILES</a><ul><li id="menu-1324-1" class="first odd sf-item-1 sf-depth-5 sf-no-children"><a href="../ferret-fonts/list-of-ferret-fonts.html" class="sf-depth-5">List of Ferret Symbol Fonts</a></li><li id="menu-1325-1" class="last even sf-item-2 sf-depth-5 sf-no-children"><a href="../ferret-fonts/list-of-ferret-character-fonts.html" class="sf-depth-5">List of Ferret/PPLUS Character fonts</a></li></ul></li><li id="menu-1318-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/PLOT5-PPLUS-DIFFERENCES.html" class="sf-depth-4">PLOT5, PPLUS DIFFERENCES</a></li><li id="menu-1319-1" class="last odd sf-item-9 sf-depth-4 sf-no-children"><a href="../appendix-b-pplus-guide/COMMAND-DESCRIPTION.html" class="sf-depth-4">COMMAND DESCRIPTION</a></li></ul></li><li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements.html" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a><ul><li id="menu-1320-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../appendix-c-ferret-specific-pplus-enhancements/PLOTPLUS-HISTORY-EVOLUTION.html" class="sf-depth-4">PLOTPLUS HISTORY, EVOLUTION</a></li><li id="menu-1321-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../appendix-c-ferret-specific-pplus-enhancements/ENHANCED-COMMANDS-DESCRIPTION.html" class="sf-depth-4">ENHANCED COMMANDS DESCRIPTION</a></li><li id="menu-1322-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../appendix-c-ferret-specific-pplus-enhancements/GKS-LINE-BUNDLES.html" class="sf-depth-4">GKS LINE BUNDLES</a></li><li id="menu-1323-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="../appendix-c-ferret-specific-pplus-enhancements/HARD-COPY.html" class="sf-depth-4">HARD COPY</a></li></ul></li></ul></li><li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li><li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a><ul><li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../ferret-tutorial-script.html" class="sf-depth-3">Ferret Tour</a></li><li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../dsg-files-discrete-sampling-geometries-demo.html" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li><li id="menu-1337-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../../ferret-tutorials.html" class="sf-depth-3 menuparent">External Function Examples</a><ul><li id="menu-1343-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../../sorting-demo.html" class="sf-depth-4">Ferret sorting demo (1)</a></li><li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../../ferret-sorting-demo.html" class="sf-depth-4">Ferret sorting demo (2)</a></li><li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../how-to-use-ferret-external-functions-for-computing-ffts.html" class="sf-depth-4">Fast Fourier Transforms demo</a></li><li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../../ferret-eof-demo.html" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li><li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../../ferret-objective-analysis.html" class="sf-depth-4">Ferret objective analysis demo</a></li></ul></li><li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../ferret-palette-demo.html" class="sf-depth-3">Ferret Palette Demo</a></li><li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../ferret-map-projections-demo.html" class="sf-depth-3">Map projections</a></li><li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../ferret-polygon-vector-demo.html" class="sf-depth-3">Ferret polygon vector demo</a></li><li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../ferret-graticules-demo.html" class="sf-depth-3">Ferret Graticules demo</a></li><li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../ferret-polytube-demo.html" class="sf-depth-3">Ferret Polytube Demo</a></li><li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../ferret-polymark-demo.html" class="sf-depth-3">Ferret Polymark Demo</a></li><li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../ferret-constant-array-demo.html" class="sf-depth-3">Ferret Constant-Array demo</a></li><li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../ferret-land_detail-demo.html" class="sf-depth-3">Ferret land_detail demo</a></li><li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../coads-tour.html" class="sf-depth-3">COADS Tour</a></li><li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../levitus-tour.html" class="sf-depth-3">Levitus Tour</a></li><li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../../how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP</a></li><li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="../../ferret-binary-read-demo.html" class="sf-depth-3">Ferret binary read demo</a></li></ul></li><li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a><ul><li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../../pyferret/downloads.html" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a><ul><li id="menu-1374-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../../pyferret/requirements.html" class="sf-depth-4">PyFerret requirements</a></li><li id="menu-1375-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="https://ferret.pmel.noaa.gov/Ferret/downloads/pyferret" class="sf-depth-4">PyFerret Downloads</a></li><li id="menu-1377-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../pyferret/build-install.html" class="sf-depth-4">Installing or Building PyFerret</a></li><li id="menu-1376-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="../../pyferret/known-issues.html" class="sf-depth-4">PyFerret Known Issues and Release Notes</a></li></ul></li><li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../pyferret/what-is-pyferret.html" class="sf-depth-3">What is PyFerret?</a></li><li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="../../pyferret/why-use-pyferret.html" class="sf-depth-3">Why use PyFerret?</a></li><li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-ferret.html" class="sf-depth-3">PyFerret for the Ferret user</a></li><li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-quick-start-notes.html" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li><li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-python.html" class="sf-depth-3">PyFerret for the Python user</a></li><li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../pyferret/graphics.html" class="sf-depth-3">Graphics in PyFerret </a></li><li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../pyferret/ferret-functionality.html" class="sf-depth-3">New Ferret functionality</a></li><li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../pyferret/python-functions.html" class="sf-depth-3">PyFerret Python functions and constants</a></li><li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-python-objects.html" class="sf-depth-3">PyFerret Python objects and methods</a></li><li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../pyferret/pyefs.html" class="sf-depth-3">Ferret external functions in Python</a></li><li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../pyferret/fortranefs.html" class="sf-depth-3">Ferret Fortran external functions</a></li><li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../pyferret/data-dictionaries.html" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li></ul></li><li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a><ul><li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-3">OPeNDAP usage in Ferret</a></li><li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP Demo</a></li><li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="../appendix-a-external-functions/test_opendap.html" class="sf-depth-3">Test OPeNDAP</a></li></ul></li><li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li><li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li></ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
                <h1 class="title" id="page-title">3.2 EXPRESSIONS</h1>
                        <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <article about="/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-burger odd clearfix" id="node-documentation-page-726">
    
  <!-- add the following line to print out updated date -->
  <div class="modified-date">Last modified: Wed, 06/24/2020 - 11:59</div>
  <!-- add the following line to print out the page description -->
    
  <div class="content clearfix">
                
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
    <div class="field-items">
          <div class="field-item even" property="content:encoded"><p class="secHeader"><b>Ch3 Sec2. </b><a name="_VPID_88" id="_VPID_88"></a><b><a name="_VPINDEXENTRY_291" id="_VPINDEXENTRY_291"></a>EXPRESSIONS </b></p>
<p align="left">Throughout this manual, Ferret commands that require and manipulate data are informally called <a name="_VPINDEXENTRY_292" id="_VPINDEXENTRY_292"></a>"action" commands. These commands are:</p>
<p align="left">PLOT<br />
CONTOUR<br />
FILL (alias for CONTOUR/FILL)<br />
SHADE<br />
VECTOR<br />
POLYGON<br />
WIRE<br />
LIST<br />
STAT<br />
LOAD</p>
<p align="left">Action commands may use any valid <a name="_VPINDEXENTRY_293" id="_VPINDEXENTRY_293"></a>algebraic expression involving constants, operators (+,,*,...), functions (SIN, MIN, INT,...), pseudo-variables (X, TBOX, ...) and other variables.</p>
<p align="left"><a name="_VPINDEXENTRY_294" id="_VPINDEXENTRY_294"></a>A variable name may optionally be followed by square brackets containing region, transformation, data set, and regridding qualifiers. For example, "temp", "salt[D=2]", "u[G=temp"], "u[Z=0:<a href="mailto:200@AVE">200@AVE</a>]", "v[k=1:50:5]</p>
<p align="left">The expressions may also contain a syntax of:</p>
<p align="left">IF condition THEN expression_1 ELSE expression_2</p>
<p align="left"><b>Examples: Expressions</b></p>
<p align="left">i) <i><b>temp ^ 2</b></i><br />
temperature squared</p>
<p align="left">ii) <i><b>temp - temp[Z=@AVE]</b></i><br />
for the range of Z in the current context, the temperature deviations from the vertical average</p>
<p align="left">iii) <i><b>COS(Y)</b></i><br />
the cosine of the Y coordinate of the underlying grid (by default, the y-axis is implied by the other variables in the expression)</p>
<p align="left">iv) <i><b>IF (vwnd GT vwnd[D=monthly_navy_winds]) THEN vwnd ELSE 0</b></i><br />
use the meridional velocity from the current data set wherever it exceeds the value in data set monthly_navy_winds, zero elsewhere.</p>
<p></p>
<p align="left" class="secHeader"><a name="_VPID_89" id="_VPID_89"></a><b><a name="_VPINDEXENTRY_295" id="_VPINDEXENTRY_295"></a><a name="_VPINDEXENTRY_296" id="_VPINDEXENTRY_296"></a><b>Ch3 Sec2.1. </b>Operators </b></p>
<p></p>
<p align="left"><a name="_VPINDEXENTRY_297" id="_VPINDEXENTRY_297"></a>Valid operators are</p>
<p align="left">+<br />
<br />
*<br />
/<br />
^ (exponentiate)<br />
AND<br />
OR<br />
GT<br />
GE<br />
LT<br />
LE<br />
EQ<br />
NE</p>
<p align="left">For instance the exponentiate operator can compute the square root of a variable as var^0.5</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.2. </b><a name="_VPID_90" id="_VPID_90"></a><b><a name="_VPINDEXENTRY_298" id="_VPINDEXENTRY_298"></a><a name="_VPINDEXENTRY_299" id="_VPINDEXENTRY_299"></a><a name="_VPINDEXENTRY_300" id="_VPINDEXENTRY_300"></a>Multi-dimensional expressions </b></p>
<p></p>
<p align="left">Operators and functions (discussed in the next section, Functions) may combine variables of like <a name="_VPINDEXENTRY_301" id="_VPINDEXENTRY_301"></a>dimensions or differing dimensions.</p>
<p align="left">If the variables are of like dimension then the result of the combination is of the same dimensionality as inputs. For example, suppose there are two time series that have data on the same time axis; the result of a combination will be a time series on the same time axis.</p>
<p align="left">If the variables are of unlike dimensionality, then the following rules apply:</p>
<p align="left">1) To combine variables together in an expression they must be "<b>conformable</b>" along each axis.</p>
<p align="left">2) Two variables are <b>conformable </b>along an axis if the number of points along the axis is the same, or if one of the variables has only a single point along the axis (or, equivalently, is normal to the axis).</p>
<p align="left">3) When a variable of size 1 (a single point) is combined with a variable of larger size, the variable of size 1 is "<b>promoted</b>" by replicating its value to the size of the other variable.</p>
<p align="left">4) <a name="_VPINDEXENTRY_302" id="_VPINDEXENTRY_302"></a>If variables are the same size but have different coordinates, they are <b>conformable</b>, but Ferret will issue a message that the coordinates on the axis are ambiguous. The result of the combination <b>inherits </b>the coordinates of the FIRST variable encountered that has more than a single point on the axis.</p>
<p align="left"><b>Examples:</b></p>
<p align="left">Assume a region J=50/K=1/L=1 for examples 1 and 2. Further assume that variables v1 and v2 share the same x-axis.</p>
<p align="left">1) <i><b>yes? LET newv = v1[I=1:10] + v2[I=1:10] !same dimension (10)</b></i></p>
<p align="left">2) <i><b>yes? LET newv = v1[I=1:10] + v2[I=5] !newv has length of v1 (10)</b></i></p>
<p align="left">3) We want to compare the salt values during the first half of the year with the values for the second half. Salt_diff will be placed on the time coordinates of the first variableL=1:6. Ferret will issue a warning about ambiguous coordinates.</p>
<p><i><b>yes? LET salt_diff = salt[L=1:6] - salt[L=7:12]</b></i></p>
<p align="left">4) In this example the variable zero will be promoted along each axis.</p>
<p align="left"><i><b>yes? LET zero = 0 * (i+j)<br />
yes? LIST/I=1:5/J=1:5 zero !5X5 matrix of 0's </b></i></p>
<p align="left">5) Here we calculate in-situ density; salt and temp are on the same grid. This expression is an XYZ volume of points (10010010) of density at 10 depths based on temperature and salinity values at the top layer (K=1).</p>
<p align="left"><i><b>yes? SET REGION/I=1:100/J=1:100<br />
yes? LET t68 = 1.00024 * temp<br />
yes? LET dens = rho_un (salt[K=1], t68[K=1], Z[G=temp,K=1:10]) </b></i></p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3. </b><a name="_VPID_91" id="_VPID_91"></a><b><a name="_VPINDEXENTRY_303" id="_VPINDEXENTRY_303"></a>Functions </b></p>
<p></p>
<p align="left"><a name="_VPINDEXENTRY_304" id="_VPINDEXENTRY_304"></a>Functions are utilized with standard mathematical notation in Ferret. The arguments to functions are constants, constant arrays, pseudo-variables, and variables, possibly with associated qualifiers in square brackets, and expressions. Thus, all of these are valid function references:</p>
<ul><li><i><b>EXP(-1) </b></i></li>
<li><i><b>MAX(a,b)</b></i></li>
<li><i><b>TAN(a/b)</b></i></li>
<li><i><b>SIN(Y[g=my_sst])</b></i></li>
<li><i><b>DAYS1900(1989,{3,6,9},1)</b></i></li>
</ul><p align="left">A few functions also take strings as arguments. String arguments must be enclosed in double quotes. For example, to test whether a dataset URL is available,</p>
<pre>
IF `TEST_OPENDAP("http://the_address/path/filename.nc") NE 0` THEN ...</pre><p align="left">You can list function names and argument lists with:</p>
<pre align="left">
yes? SHOW FUNCTIONS ! List all functions
yes? SHOW FUNCTIONS *TAN ! List all functions containing string</pre><p align="left"><a name="_VPINDEXENTRY_305" id="_VPINDEXENTRY_305"></a>Valid functions are described in the sections below and in Appendix A.</p>
<p align="left">See also the section on <a href="../handing-string-data-symbols/STRING-FUNCTIONS.html">string functions</a></p>
<p><a name="Chapter3-Note_on_functions" id="Chapter3-Note_on_functions"></a></p>
<p align="left"><b><a name="_VPINDEXENTRY_306" id="_VPINDEXENTRY_306"></a><a name="_VPINDEXENTRY_307" id="_VPINDEXENTRY_307"></a>Grid-changing functions </b></p>
<p align="left">It is generally advisable to include explicit limits when working with functions that replace axes. For example, consider the function SORTL(v). The expression</p>
<p align="left"><b>LIST/L=6:10 SORTL(v) </b></p>
<p align="left">is not equivalent to</p>
<p align="left"><b>LIST SORTL(v[L=6:10]) </b></p>
<p align="left">The former will list the 6th through 10th sorted indices from the entire l range of variable v. The latter will list all of the indices that result from sorting v[l=6:10].</p>
<p align="left">These functions in Ferret, including XSEQUENCE, SAMPLXY, and so on, are "grid-changing" functions. This means that the axes of the result may differ from the axes of the arguments. In the case of XSEQUENCE(sst), for example, the input grid for SST is</p>
<p align="left">lon<br />
lat<br />
normal<br />
time</p>
<p align="left">whereas the output grid is</p>
<p align="left">abstract<br />
normal<br />
normal<br />
normal</p>
<p align="left">so all axes of the input are replaced.</p>
<p align="left">Grid-changing functions create a potential ambiguity about region specifications. Suppose that the result of XSEQUENCE(sst[L=1]) is a list of 50 points along the ABSTRACT X axis. Then it is natural that</p>
<p align="left"><b>LIST/I=10:20 XSEQUENCE(sst[L=1]) </b></p>
<p align="left">should give elements 10 through 20 taken from that list of 50 points (and it does.) However, one might think that "I=10:20" referred to a subset of the longitude axis of SST. Therein lies the ambiguity: one region was specified, but there are 2 axes to which the region might apply.</p>
<p align="left">It gets a degree more complicated if the grid-changing function takes more than one argument. Since the input arguments need not be on identical grids, a result axis (X,Y,Z, or T) may be replaced with respect to one argument, but actually taken from another (consider ZAXREPLACE, for example.) Ferret resolves the ambiguities thusly:</p>
<p align="left">If in the result of a grid-changing function, an axis (X, Y, Z, or T) has been replaced relative to some argument, then region information which applies to the result of the function on that axis will NOT be passed to that argument.</p>
<p align="left">So, when you issue commands like</p>
<p align="left"><b>SET REGION/X=20E:30E/Y=0N:20N/L=1<br />
LIST XSEQUENCE(sst) </b></p>
<p align="left">the X axis region ("20E:30E") applies to the result ABSTRACT axis -- it is not passed along to the argument, SST. The Y axis region is, in fact, ignored altogether, since it is not relevant to the result of XSEQUENCE, and is not passed along to the argument.</p>
<p>The command SHOW FUNCTION/DETAILS lists the dependence of the result grid on the axes of the arguments:</p>
<pre>
yes? show func/details xsequence
XSEQUENCE(VAR)
    unravel grid to a line in X
        Axes of result:
          X: ABSTRACT (result will occupy indices 1...N)
          Y: NORMAL (no axis)
          Z: NORMAL (no axis)
          T: NORMAL (no axis)
          E: NORMAL (no axis)
          F: NORMAL (no axis)
    VAR: (FLOAT)
        Influence on output axes:
          X: no influence (indicate argument limits with "[]")
          Y: no influence (indicate argument limits with "[]")
          Z: no influence (indicate argument limits with "[]")
          T: no influence (indicate argument limits with "[]")
          E: no influence (indicate argument limits with "[]")
          F: no influence (indicate argument limits with "[]")</pre><p>Following is a partial list of Ferret Functions. More functions are documented in <a href="../handing-string-data-symbols/STRING-FUNCTIONS.html">Chapter 7</a> (string functions), and in <a href="../appendix-a-external-functions/appendix-a.html">Appendix A</a>.</p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.1. </b><a name="_VPID_92" id="_VPID_92"></a><b><a name="_VPINDEXENTRY_308" id="_VPINDEXENTRY_308"></a>MAX </b></p>
<p></p>
<p align="left"><b>MAX(A, B)</b> Compares two fields and selects the point by point maximum.<br /><i><b>MAX( temp[K=1], temp[K=2] ) </b></i>returns the maximum temperature comparing the first 2 z-axis levels.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.2. </b><a name="_VPID_93" id="_VPID_93"></a><b><a name="_VPINDEXENTRY_309" id="_VPINDEXENTRY_309"></a>MIN </b></p>
<p></p>
<p align="left"><b>MIN(A, B)</b> Compares two fields and selects the point by point minimum.<br /><i><b>MIN( airt[L=10], airt[L=9] )</b></i> gives the minimum air temperature comparing two timesteps.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.3. </b><a name="_VPID_94" id="_VPID_94"></a><b><a name="_VPINDEXENTRY_310" id="_VPINDEXENTRY_310"></a>INT </b></p>
<p></p>
<p align="left"><b>INT (X) </b>Truncates values to integers.<br /><i><b>INT( salt ) </b></i>returns the integer portion of variable "salt" for all values in the current region.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.4. </b><a name="_VPID_95" id="_VPID_95"></a><b><a name="_VPINDEXENTRY_311" id="_VPINDEXENTRY_311"></a>ABS </b></p>
<p></p>
<p align="left"><b>ABS(X) </b>absolute value.<br /><i><b>ABS( U ) </b></i>takes the absolute value of U for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.5. </b><a name="_VPID_96" id="_VPID_96"></a><b><a name="_VPINDEXENTRY_312" id="_VPINDEXENTRY_312"></a>EXP </b></p>
<p></p>
<p align="left"><b>EXP(X) </b>exponential e<sup><b>x</b></sup>; argument is real.<br /><i><b>EXP( X ) </b></i>raises e to the power X for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.6. </b><a name="_VPID_97" id="_VPID_97"></a><b><a name="_VPINDEXENTRY_313" id="_VPINDEXENTRY_313"></a><a name="_VPINDEXENTRY_314" id="_VPINDEXENTRY_314"></a>LN </b></p>
<p></p>
<p align="left"><b>LN(X) </b>Natural logarithm log<sub>e</sub>X; argument is real.<br /><i><b>LN( X ) </b></i>takes the natural logarithm of X for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.7. </b><a name="_VPID_98" id="_VPID_98"></a><b><a name="_VPINDEXENTRY_315" id="_VPINDEXENTRY_315"></a>LOG </b></p>
<p></p>
<p align="left">LOG(X) Common logarithm log<sub>10</sub>X; argument is real.<br /><i><b>LOG( X ) </b></i>takes the common logarithm of X for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.8. </b><a name="_VPID_99" id="_VPID_99"></a><b><a name="_VPINDEXENTRY_316" id="_VPINDEXENTRY_316"></a><a name="_VPINDEXENTRY_317" id="_VPINDEXENTRY_317"></a>SIN </b></p>
<p></p>
<p align="left"><b>SIN(THETA) </b>Trigonometric sine; argument is in radians and is treated modulo 2*pi.<br /><i><b>SIN( X )</b></i> computes the sine of X for all points within the current region.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.9. </b><a name="_VPID_100" id="_VPID_100"></a><b><a name="_VPINDEXENTRY_318" id="_VPINDEXENTRY_318"></a>COS </b></p>
<p></p>
<p align="left"><b>COS(THETA )</b> Trigonometric cosine; argument is in radians and is treated modulo 2*pi.<br /><i><b>COS( Y )</b></i> computes the cosine of Y for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.10. </b><a name="_VPID_101" id="_VPID_101"></a><b><a name="_VPINDEXENTRY_319" id="_VPINDEXENTRY_319"></a>TAN </b></p>
<p></p>
<p align="left">TAN(THETA) Trigonometric tangent; argument is in radians and is treated modulo 2*pi.<br /><i><b>TAN( theta ) </b></i>computes the tangent of theta for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.11. </b><a name="_VPID_102" id="_VPID_102"></a><b><a name="_VPINDEXENTRY_320" id="_VPINDEXENTRY_320"></a>ASIN </b></p>
<p></p>
<p align="left"><b>ASIN(X)</b> Trigonometric arcsine (-pi/2,pi/2) of X in radians.The result will be flagged as missing if the absolute value of the argument is greater than 1; result is in radians.<br /><i><b>ASIN( value ) </b></i>computes the arcsine of "value" for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.12. </b><a name="_VPID_103" id="_VPID_103"></a><b><a name="_VPINDEXENTRY_321" id="_VPINDEXENTRY_321"></a>ACOS </b></p>
<p></p>
<p align="left"><b>COS(X) </b>Trigonometric arccosine (0,pi), in radians. The result will be flagged as missing of the absolute value of the argument greater than 1; result is in radians.<br /><i><b>ACOS ( value )</b></i> computes the arccosine of "value" for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.13. </b><a name="_VPID_104" id="_VPID_104"></a><b><a name="_VPINDEXENTRY_322" id="_VPINDEXENTRY_322"></a>ATAN </b></p>
<p></p>
<p align="left"><b>ATAN(X) </b>Trigonometric arctangent (-pi/2,pi/2); result is in radians.<br /><i><b>ATAN( value )</b></i> computes the arctangent of "value" for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.14. </b><a name="_VPID_105" id="_VPID_105"></a><b><a name="_VPINDEXENTRY_323" id="_VPINDEXENTRY_323"></a>ATAN2 </b></p>
<p></p>
<p align="left"><b>ATAN2(Y,X)</b> 2-argument trigonometric arctangent of Y/X (-pi,pi); discontinuous at Y=0.<br /><i><b>ATAN2(Y,X ) </b></i>computes the 2-argument arctangent of Y/X for all points within the current region.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.15. </b><a name="_VPID_106" id="_VPID_106"></a><b><a name="_VPINDEXENTRY_324" id="_VPINDEXENTRY_324"></a><a name="_VPINDEXENTRY_325" id="_VPINDEXENTRY_325"></a>MOD </b></p>
<p></p>
<p align="left"><b>MOD(A,B)</b> Modulo operation ( arg1  arg2*[arg1/arg2] ). Returns the remainder when the first argument is divided by the second.<br /><i><b>MOD( X,2 )</b></i> computes the remainder of X/2 for all points within the current region</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.16. </b><a name="_VPID_107" id="_VPID_107"></a><b><a name="_VPINDEXENTRY_326" id="_VPINDEXENTRY_326"></a>DAYS1900 </b></p>
<p></p>
<p align="left"><b>DAYS1900(year,month,day) </b>computes the number of days since 1 Jan 1900, using the default Proleptic Gregorian calendar. This function is useful in converting dates to Julian days on the standard Gregorian calendar. If the year is prior to 1900 a negative number is returned. This means that it is possible to compute Julian days relative to, say, 1800 with the expression<br /><i><b>LET jday1800 = DAYS1900 ( year, month, day) - DAYS1900( 1800,1,1)</b></i></p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.17. </b><a name="_VPID_108" id="_VPID_108"></a><b><a name="_VPINDEXENTRY_327" id="_VPINDEXENTRY_327"></a>MISSING </b></p>
<p></p>
<p align="left"><b>MISSING(A,B) </b>Replaces missing values in the first argument (multi-dimensional variable) with the second argument; the second argument may be any conformable variable.<br /><i><b>MISSING( temp, -999 )</b></i> replaces missing values in temp with 999<br /><i><b>MISSING( sst, temp[D=coads_climatology] )</b></i> replaces missing sst values with temperature from the COADS climatology</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.18. </b><a name="_VPID_109" id="_VPID_109"></a><b><a name="_VPINDEXENTRY_328" id="_VPINDEXENTRY_328"></a>IGNORE0 </b></p>
<p></p>
<p align="left"><b>IGNORE0(VAR) </b>Replaces zeros in a variable with the missing value flag for that variable.<br /><i><b>IGNORE0( salt )</b></i> replaces zeros in salt with the missing value flag</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.19. </b><a name="_VPID_110" id="_VPID_110"></a><b><a name="_VPINDEXENTRY_329" id="_VPINDEXENTRY_329"></a>RANDU and RANDU2 </b></p>
<p></p>
<p align="left"><b>RANDU(A) </b>Generates a grid of uniformly distributed [0,1] pseudo-random values. The first valid value in the field is used as the random number seed. Values that are flagged as bad remain flagged as bad in the random number field.<br /><i><b>RANDU( temp[I=105:135,K=1:5] ) </b></i>generates a field of uniformly distributed random values of the same size and shape as the field "temp[I=105:135,K=1:5]" using temp[I=105,k=1] as the pseudo-random number seed.</p>
<p align="left"></p>
<p align="left"><b>RANDU2(A, iseed) </b>Generates a grid of uniformly distributed [0,1] pseudo-random values, using an alternate algorithm and allowing control over the random generator seed. Values that are flagged as bad remain flagged as bad in the random number field.</p>
<p align="left"><i><b>RANDU2( temp[I=105:135,K=1:5],iseed) </b></i>generates a field of uniformly distributed random values of the same size and shape as the field "temp[I=105:135,K=1:5]" iseed is set as follows:</p>
<p align="left">ISEED: -1=sys clock, 0=continue w/ previous seed, N&gt;0 enter an integer value for a user-defined seed.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.20. </b><a name="_VPID_111" id="_VPID_111"></a><b><a name="_VPINDEXENTRY_330" id="_VPINDEXENTRY_330"></a>RANDN and RANDN2 </b></p>
<p></p>
<p align="left"><b>RANDN(A) </b>Generates a grid of normally distributed pseudo-random values. As above, but normally distributed rather than uniformly distributed.</p>
<p align="left">A: field of random values will have shape of A<br />
</p>
<p align="left"><b>RANDN2(A, iseed) </b>Generates a grid of normally distributed pseudo-random values. As above, but normally distributed rather than uniformly distributed.</p>
<p align="left">A: field of random values will have shape of A<br />
ISEED: -1=sys clock, 0=continue w/ previous seed, N&gt;0 user-defined seed<br />
</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.21. </b><a name="_VPID_112" id="_VPID_112"></a><b><a name="_VPINDEXENTRY_331" id="_VPINDEXENTRY_331"></a><a name="_VPINDEXENTRY_332" id="_VPINDEXENTRY_332"></a>RHO_UN </b></p>
<p></p>
<p align="left"><b>RHO_UN(SALT, TEMP, P)</b> Calculates the mass density rho (kg/m^3) of seawater from salinity SALT(salt, psu), temperature TEMP(deg C) and reference pressure P(dbar) using the 1980 UNESCO International Equation of State (IES80). Either in-situ or potential density may be computed depending upon whether the user supplies in-situ or potential temperature.</p>
<p align="left">Note that to maintain accuracy, temperature must be converted to the IPTS-68 standard before applying these algorithms. For typical seawater values, the IPTS-68 and ITS-90 temperature scales are related by T_68 = 1.00024 T_90 (P. M. Saunders, 1990, WOCE Newsletter 10). The routine uses the high pressure equation of state from Millero et al. (1980) and the one-atmosphere equation of state from Millero and Poisson (1981) as reported in Gill (1982). The notation follows Millero et al. (1980) and Millero and Poisson (1981).</p>
<p align="left"><i><b>RHO_UN( salt, temp, P ) </b></i></p>
<p align="left"><b>For example:</b></p>
<pre>
! Define input variables:
  let temp=2 ; let salt=35 ; let p=5000

! Convert from IT90 to ITS68 temperature scale
  let t68 = 1.00024 *  temp

! Define potential temperature
! at two reference pressure values
  let potemp0 = THETA_FO(salt, t68, P, 0.)
  let potemp2 = THETA_FO(salt, t68, P, 2000.)

! For sigma0 (sigma-theta, i.e., potential density)
  let rho0 = rho_un(salt, potemp0, 0.)
  let sigma0 = rho0 - 1000.

! For sigma2
  let rho2 = rho_un(salt, potemp2, 2000.)
  let sigma2 = rho2 - 1000.

! For sigma-t (outdated method, sigma-theta is preferred)
  let rhot = rho_un(salt, t68, 0.)
  let sigmat = rhot - 1000.

! For sigma (in-situ density)
  let rho = rho_un(salt, t68, p)
  let sigma = rho - 1000.</pre><p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.22. </b><a name="_VPID_113" id="_VPID_113"></a><b><a name="_VPINDEXENTRY_333" id="_VPINDEXENTRY_333"></a><a name="_VPINDEXENTRY_334" id="_VPINDEXENTRY_334"></a>THETA_FO </b></p>
<p></p>
<p align="left"><b>THETA_FO(SALT, TEMP, P, REF) </b>Calculates the potential temperature of a seawater parcel at a given salinity SALT(psu), temperature TEMP(deg. C) and pressure P(dbar), moved adiabatically to a reference pressure REF(dbar).</p>
<p align="left">This calculation uses Bryden (1973) polynomial for adiabatic lapse rate and Runge-Kutta 4th order integration algorithm. References: Bryden, H., 1973, Deep-Sea Res., 20, 401408; Fofonoff, N.M, 1977, Deep-Sea Res., 24, 489491.</p>
<p align="left"><i><b>THETA_FO( salt, temp, P, P_reference )</b></i></p>
<p align="left"><b>NOTE:</b> To do the reverse calculation, that is to convert from in-situ to potential temperature, we only need to inverse the 3rd and 4th arguments.</p>
<p align="left"><b>For example:</b></p>
<pre>
yes? LET Tpot     = THETA_FO(35,20,5000,0)
yes? LET Tinsitu  = THETA_FO(35,19,0,5000) 
yes? LIST Tpot, Tinsitu
 Column  1: TPOT is THETA_FO(35,20,5000,0)
 Column  2: TINSITU is THETA_FO(35,19,0,5000)
           TPOT  TINSITU
I / *:     19.00   20.00</pre><p align="left"></p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.23. </b><a name="_VPID_114" id="_VPID_114"></a><b><a name="_VPINDEXENTRY_335" id="_VPINDEXENTRY_335"></a><a name="_VPINDEXENTRY_336" id="_VPINDEXENTRY_336"></a><a name="_VPINDEXENTRY_337" id="_VPINDEXENTRY_337"></a>RESHAPE </b></p>
<p></p>
<p align="left"><b>RESHAPE(A, B)</b> The result of the RESHAPE function will be argument A "wrapped" on the grid of argument B. The limits given on argument 2 are used to specify subregions within the grid into which values should be reshaped.<br /><i><b>RESHAPE(Tseries,MonthYear)</b></i></p>
<p align="left">Two common uses of this function are to view multi-year time series data as a 2-dimensional field of 12-months vs. year and to map ABSTRACT axes onto real world coordinates. An example of the former is</p>
<pre>
<b>yes? define axis/t=15-jan-1982:15-dec-1985/npoints=48/units=days tcal
yes? let my_time_series = sin(t[gt=tcal]/100)
yes? define axis/t=1982:1986:1 tyear
yes? define axis/z=1:12:1 zmonth
yes? let out_grid = z[gz=zmonth] + t[gt=tyear]
yes? let my_reshaped = reshape(my_time_series, out_grid)
yes? sh grid my_reshaped
    GRID (G001)
 name       axis              # pts   start                end
 normal    X
 normal    Y
 ZMONTH    Z                   12 r   1                    12
 TYEAR     T                    5 r   1982                 1986

</b></pre><p align="left">For any axis X,Y,Z, or T if the axis differs between the input output grids, then limits placed upon the region of the axis in argument two (the output grid) can be used to restrict the geometry into which the RESHAPE is performed. Continuing with the preceding example:</p>
<p align="left">! Now restrict the output region to obtain a 6 month by 8 year matrix</p>
<pre>
<b>yes? list reshape(my_time_series, out_grid[k=1:6])
             VARIABLE : RESHAPE(MY_TIME_SERIES, OUT_GRID[K=1:6])
             SUBSET   : 6 by 5 points (Z-T)
                1       2       3       4       5       6     
                 1       2       3       4       5       6
 1982   / 1:  0.5144  0.7477  0.9123  0.9931  0.9827  0.8820
 1983   / 2:  0.7003  0.4542  0.1665 -0.1366 -0.4271 -0.6783
 1984   / 3: -0.8673 -0.9766 -0.9962 -0.9243 -0.7674 -0.5401
 1985   / 4: -0.2632  0.0380  0.3356  0.6024  0.8138  0.9505
 1986   / 5:  0.9999  0.9575  0.8270  0.6207  0.3573  0.0610

</b></pre><p align="left">For any axis X,Y,Z, or T if the axis is the same in the input and output grids then the region from argument 1 will be preserved in the output. This implies that when the above technique is used on multi-dimensional input, only the axes which differ between the input and output grids are affected by the RESHAPE operation. However RESHAPE can only be applied if the reshape operation preserves the ordering of data on the axes in four dimensions. The RESHAPE function only "wraps" the variable to the new grid, keeping the data ordered as it exists in memory, that is, ordered by X (varying fastest) then -Y-Z-T (slowest index). It is an operation like @ASN regridding. Subsetting is done if requested by region specifiers, but the function does not reorder the data as it is put on the new axes. For instance, if your data is in Z and T:</p>
<pre>
<b>yes? show grid my_reshaped
    GRID (G001)
 name       axis              # pts   start                end
 normal    X
 normal    Y
 ZMONTH    Z                   12 r   1                    12
 TYEAR     T                    5 r   1982                 1986
</b>
</pre><p align="left">and you wish to put it on a new grid, GRIDYZ</p>
<pre>
<b>yes? SHOW GRID gridyz</b>
<b><b>    GRID (</b></b><b><b>GRIDYZ</b></b><b><b>)
 name       axis              # pts   start                end
 normal    X
 </b></b><b>YAX      LATITUDE              5 r   15N                  19N</b>
<b><b> ZMONTH    Z                   12 r   1                    12
 </b></b><b><b><b><b>normal    T</b></b></b></b>
</pre><p align="left">then the RESHAPE function would NOT correctly wrap the data from G001 to GRIDYZ, because the data is ordered with its Z coordinates changing faster than its T coordinates, and on output the data would need to be reordered with the Y coordinates changing faster then the Z coordinates.</p>
<p align="left">The following filled contour plot of longitude by year number illustrates the use of RESHAPE in multiple dimensions by expanding on the previous example: (Figure 3_2)</p>
<pre>
<b>! The year-by-year progression January winds for a longitudinal patch
! averaged from 5s to 5n across the eastern Pacific Ocean. Note that
! k=1 specifies January, since the Z axis is month 

yes? USE coads
yes? LET out_grid = Z[GZ=zmonth]+T[GT=tyear]+X[GX=uwnd]+Y[GY=uwnd]
yes? LET uwnd_mnth_ty = RESHAPE(uwnd, out_grid)
yes? FILL uwnd_mnth_ty[X=130W:80W,Y=5S:5N@AVE,K=1] </b></pre><p><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig02.gif"><img alt="Ch3_fig02" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig02.gif" width="200" /></a></p>
<p align="left">In the second usage mentioned, to map ABSTRACT axes onto real world coordinates, suppose xpts and ypts contain time series of length NT points representing longitude and latitude points along an oceanographic ship track and the variable global_sst contains global sea surface temperature data. Then the result of</p>
<p align="left">LET sampled_sst = SAMPLEXY(global_sst, xpts, ypts)</p>
<p align="left">will be a 1-dimensional grid: NT points along the XABSTRACT axis. The RESHAPE function can be used to remap this data to the original time axis using RESHAPE(sampled_sst, xpts)</p>
<pre>
<b>yes? LET sampled_sst = SAMPLEXY(global_sst,\
...?  xpts[t=1-jan-1980:15-jan-1980],\
</b><b><b>...?</b></b><b>  ypts[t=1-jan-1980:15-jan-1980])
yes? LIST RESHAPE(sampled_sst, xpts[t=1-jan-1980:15-jan-1980]) </b></pre><p align="left">When the input and output grids share any of the same axes, then the specified sub-region along those axes will be preserved in the RESHAPE operation. In the example "RESHAPE(myTseries,myMonthYearGrid)" this means that if myTseries and myMonthYearGrid were each multidimensional variables with the same latitude and longitude grids then</p>
<p align="left"><b>RESHAPE(myTseries[X=130E:80W,Y=5S:5N],myMonthYearGrid) </b></p>
<p align="left">would map onto the X=130E:80W,Y=5S:5N sub-region of the grid of myMonthYearGrid. When the input and output axes differ the sub-region of the output that is utilized may be controlled by inserting explicit limit qualifiers on the second argument</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.24. </b><a name="Chapter3-zaxreplace" id="Chapter3-zaxreplace"></a><a name="_VPID_115" id="_VPID_115"></a><b><a name="_VPINDEXENTRY_338" id="_VPINDEXENTRY_338"></a><a name="_VPINDEXENTRY_339" id="_VPINDEXENTRY_339"></a><a name="_VPINDEXENTRY_340" id="_VPINDEXENTRY_340"></a>ZAXREPLACE </b></p>
<p></p>
<p align="left"><b>ZAXREPLACE(V,ZVALS,ZAX</b><b>)</b><b> </b>Convert between alternative monotonic Zaxes, where the mapping between the source and destination Z axes is a function of X,Y, and or T. The function regrids between the Z axes using linear interpolation between values of V. See also the related functions <a href="../appendix-a-external-functions/ZAXREPLACE-BIN.html">ZAXREPLACE_BIN</a> and <a href="../appendix-a-external-functions/ZAXREPLACE-AVG.html">ZAXREPLACE_AVG</a> which use binning and averaging to interpolate the values.</p>
<p align="left">Typical applications in the field of oceanography include converting from a Z axis of layer number to a Z axis in units of depth (e.g., for sigma coordinate fields) and converting from a Z axes of depth to one of density (for a stably stratified fluid).</p>
<p>Argument 1, V, is the field of data values, say temperature on the "source" Z-axis, say, layer number. The second argument, ZVALS, contains values in units of the desired destination Z axis (ZAX) on the same Z axis as V  for example, depth values associated with each vertical layer. The third argument, ZAX, is any variable defined on the destination Z axis, often "Z[gz=zaxis_name]" is used.</p>
<p align="left">The ZAXREPLACE function takes three arguments. The first argument, V, is the field of data values, say temperature or salinity. This variable is available on what we will refer to as the "source" Z-axis -- say in terms of layer number. The second argument, ZVALS, contains the values of the desired destination Z axis defined on the source Z axis -- for example, it may contain the depth values associated with each vertical layer. It should always share the Z axis from the first argument. The third argument, ZAX, is defined on the destination Z axis. Only the Z axis of this variable is relevant -- the values of the variable, itself, and its structure in X, Y, and T are ignored. Often "Z[gz=zaxis_name]" is used for the third argument.</p>
<p align="left"></p>
<p align="left"><b>Note: </b></p>
<p align="left">ZAXREPLACE is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the arguments rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left">An example of the use of ZAXREPLACE for sigma coordinates is outlined in the FAQ on <a href="https://ferret.pmel.noaa.gov/Ferret/faq/using-sigma-and-curvilinear-model-coordinates">Using Sigma Coordinates</a>.</p>
<p align="left"><b>Another example: </b></p>
<p align="left">Contour salt as a function of density:<br />
</p>
<pre>
<b>yes? set dat levitus_climatology

! Define density sigma, then density axis axden

yes? let sigma=rho_un(salt,temp,0)-1000
yes? define axis/z=21:28:.05/depth axden

! Regrid to density

yes? let saltonsigma= ZAXREPLACE( salt, sigma, z[gz=axden]) 

! Make Pacific plot

yes? fill/y=0/x=120e:75w saltonsigma</b></pre><p align="left">Note that one could regrid the variable in the third argument to the destination Z axis using whichever of the regridding transformations that is best for the analysis, e.<i>g. </i><i><b>z[gz=<a href="mailto:axdens@AVE">axdens@AVE</a>]</b></i></p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.25. </b><a name="_VPID_116" id="_VPID_116"></a><b><a name="_VPINDEXENTRY_341" id="_VPINDEXENTRY_341"></a>XSEQUENCE, <a name="_VPINDEXENTRY_342" id="_VPINDEXENTRY_342"></a>YSEQUENCE, <a name="_VPINDEXENTRY_343" id="_VPINDEXENTRY_343"></a>ZSEQUENCE, <a name="_VPINDEXENTRY_344" id="_VPINDEXENTRY_344"></a>TSEQUENCE, ESEQUENCE, FSEQUENCE </b></p>
<p></p>
<p align="left"><b>XSEQUENCE(A), YSEQUENCE(A), ZSEQUENCE(A)</b><b>, TSEQUENCE(A)</b><b>, ESEQUENCE(A)</b><b>, FSEQUENCE(A)</b> Unravels the data from the argument into a 1-dimensional line of data on an ABSTRACT axis.</p>
<p align="left"><b>Note: </b></p>
<p align="left">This family of functions are "grid-changing" functions; the output grid is different from the input arguments. Therefore it is best to use explicit limits on the argument rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.26. </b><a name="Chapter3_FFTA" id="Chapter3_FFTA"></a><a name="_VPID_117" id="_VPID_117"></a><b><a name="_VPINDEXENTRY_345" id="_VPINDEXENTRY_345"></a><a name="_VPINDEXENTRY_346" id="_VPINDEXENTRY_346"></a>FFTA </b></p>
<p></p>
<p align="left"><b>FFTA(A)</b> Computes Fast Fourier Transform amplitude spectra, normalized by 1/N<b> </b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">Variable with regular time axis.</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Generated by the function: frequency in cyc/(time units from A)</p>
</td>
</tr></tbody></table><p align="left">See the demonstration script <a href="http://ferret.pmel.noaa.gov/static/Demos/ef_fft_demo/ef_fft_demo.html">ef_fft_demo.jnl</a> for an example using this function. Also see the external functions fft_re, fft_im, and fft_inverse for more options using FFT's</p>
<p align="left">FFTA returns a(j) in</p>
<p align="left">f(t) = S<sub>(j=1 to N/2)</sub>[a(j) cos(jwt + F(j))]</p>
<p align="left">where [ ] means "integer part of", w=2 pi/T is the fundamental frequency, and T=N*Dt is the time span of the data input to FFTA. F is the phase (returned by FFTP, see next section)</p>
<p align="left">The units of the returned time axis are "cycles/Dt" where Dt is the time unit of the input axis. The Nyquist frequency is yquist = 1./(2.*boxsize), and the frequency axis runs from freq1 = yquist/ float(nfreq) to freqn = yquist</p>
<p align="left">Even and odd N's are allowed. N need not be a power of 2. FFTA and FFTP assume f(1)=f(N+1), and the user gives the routines the first N pts.</p>
<p align="left">Specifying the context of the input variable explicitly e.g.</p>
<p align="left"><b>LIST FFTA(A[l=1:58])</b><b> </b></p>
<p align="left">will prevent any confusion about the region. See the note in chapter 3 above, on <a href="XPRESSIONS.html#_VPINDEXENTRY_306">the context of variables</a> passed to functions.</p>
<p align="left">The code is based on the FFT routines in Swarztrauber's FFTPACK available at <a href="http://www.netlib.org/">www.netlib.org</a>. For further discussion of the FFTPACK code, please see the document, <a href="ftp://ftp.pmel.noaa.gov/ferret/pub/data/FFTPACK_notes.doc">Notes on FFTPACK - A Package of Fast Fourier Transform Programs</a>.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.27. </b><a name="_VPID_118" id="_VPID_118"></a><b><a name="_VPINDEXENTRY_347" id="_VPINDEXENTRY_347"></a><a name="_VPINDEXENTRY_348" id="_VPINDEXENTRY_348"></a>FFTP </b></p>
<p></p>
<p align="left">FFTP(A) Computes Fast Fourier Transform phase<b> </b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">Variable with regular time axis.</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Generated by the function: frequency in cyc/(time units from A)</p>
</td>
</tr></tbody></table><p align="left">See the demonstration script <a href="http://ferret.pmel.noaa.gov/static/Demos/ef_fft_demo/ef_fft_demo.html">ef_fft_demo.jnl</a> for an example using this function.</p>
<p align="left">FFTP returns F(j) in</p>
<p align="left">f(t) = S<sub>(j=1 to N/2)</sub>[a(j) cos(jwt + F(j))]</p>
<p align="left">where [ ] means "integer part of", w=2 pi/T is the fundamental frequency, and T=N*Dt is the time span of the data input to FFTA.</p>
<p align="left">The units of the returned time axis are "cycles/Dt" where Dt is the time increment. The Nyquist frequency is yquist = 1./(2.*boxsize), and the frequency axis runs from freq1 = yquist/ float(nfreq) to freqn = yquist</p>
<p align="left">Even and odd N's are allowed. Power of 2 not required. FFTA and FFTP assume f(1)=f(N+1), and the user gives the routines the first N pts.</p>
<p align="left">Specifying the context of the input variable explicitly e.g.</p>
<p align="left"><b>LIST FFTP(A[l=1:58])</b><b> </b></p>
<p align="left">will prevent any confusion about the region. See the note in chapter 3 above, on <a href="XPRESSIONS.html#_VPINDEXENTRY_306">the context of variables</a> passed to functions.</p>
<p align="left">The code is based on the FFT routines in Swarztrauber's FFTPACK available at <a href="http://www.netlib.org/">www.netlib.org</a>. See the section on <a href="XPRESSIONS.html#_VPINDEXENTRY_345">Function FFTA</a> for more discussion. For further discussion of the FFTPACK code, please see the document, <a href="ftp://ftp.pmel.noaa.gov/ferret/pub/data/FFTPACK_notes.doc">Notes on FFTPACK - A Package of Fast Fourier Transform Programs</a> .</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.28. </b><a name="_VPID_119" id="_VPID_119"></a><b><a name="_VPINDEXENTRY_349" id="_VPINDEXENTRY_349"></a>SAMPLEI </b></p>
<p></p>
<p align="left"><b>SAMPLEI(TO_BE_SAMPLED,X_INDICES) </b>samples a field at a list of X indices, which are a subset of its X axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">X_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT; length same as X_INDICES</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common usage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>. For instance</p>
<p align="left"><b>yes? LET sampled_data = samplei(airt[X=160E:180E], xindices) </b></p>
<p></p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.29. </b><a name="_VPID_120" id="_VPID_120"></a><b><a name="_VPINDEXENTRY_350" id="_VPINDEXENTRY_350"></a>SAMPLEJ </b></p>
<p></p>
<p></p>
<p align="left"><b>SAMPLEJ(TO_BE_SAMPLED,Y_INDICES) </b>samples a field at a list of Y indices, which are a subset of its Y axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to be sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">ABSTRACT; length same as Y_INDICES</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common usage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.30. </b><a name="_VPID_121" id="_VPID_121"></a><b><a name="_VPINDEXENTRY_351" id="_VPINDEXENTRY_351"></a>SAMPLEK </b></p>
<p></p>
<p align="left"><b>SAMPLEK(TO_BE_SAMPLED, Z_INDICES) </b>samples a field at a list of Z indices, which are a subset of its Z axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">ABSTRACT; length same as Z_INDICES</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common usage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.31. </b><a name="_VPID_122" id="_VPID_122"></a><b><a name="_VPINDEXENTRY_352" id="_VPINDEXENTRY_352"></a>SAMPLEL </b></p>
<p></p>
<p align="left"><b>SAMPLEL(TO_BE_SAMPLED, T_INDICES) </b>samples a field at a list of T indices, a subset of its T axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">ABSTRACT; length same as T_INDICES</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common usage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left"></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.31. </b><a name="_VPID_122" id="_VPID_122"></a><b><a name="_SAMPLEM" id="_SAMPLEM"></a>SAMPLEM </b></p>
<p align="left"><b>SAMPLEM(TO_BE_SAMPLED, E_INDICES) </b>samples a field at a list of E indices, a subset of its E axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">E_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">E</p>
</td>
<td>
<p align="left">ABSTRACT; length same as E_INDICES</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common usage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left"></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3.31. </b><a name="_VPID_122" id="_VPID_122"></a><b><a name="_SAMPLEN" id="_SAMPLEN"></a>SAMPLEN </b></p>
<p align="left"><b>SAMPLEN(TO_BE_SAMPLED, F_INDICES) </b>samples a field at a list of F indices, a subset of its F axis</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">TO_BE_SAMPLED</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F_INDICES</p>
</td>
<td>
<p align="left">list of indices of the variable TO_BE_SAMPLED</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">E</p>
</td>
<td>
<p align="left">Inherited from TO_BE_SAMPLED</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">ABSTRACT; length same as F_INDICES</p>
</td>
</tr></tbody></table><p align="left">See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for a common useage of this function. As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left"></p>
<p align="left" class="secHeader"><b>Ch3 Sec2.3. </b><b><a name="_SAMPLEIJ" id="_SAMPLEIJ"></a><a id="_VPID_123" name="_VPID_123"></a>SAMPLIJ</b></p>
<p align="left"><b>SAMPLEIJ(DAT_TO_SAMPLE,XPTS,YPTS)</b> Returns data sampled at a subset of its grid points, defined by (XPTS, YPTS)</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT_TO_SAMPLE</p>
</td>
<td>
<p align="left">Data to sample, field of x, y, and perhaps z and t</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">X coordinates of grid points to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">Y coordinates of grid points to sample</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT, length of list (xpts,ypts)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">NORMAL (no axis)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr></tbody></table><p align="left">This is a discrete version of SAMPLEXY. The points defined in arguments 2 and 3 are coordinaets, but a result is returned only if those arguments are a match with coordinates of the grid of the variable.</p>
<p align="left">As with other functions which change axes, specify any region information for the variable TO_BE_SAMPLED explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p><a name="_VPINDEXENTRY_354" id="_VPINDEXENTRY_354"></a><a name="_VPINDEXENTRY_355" id="_VPINDEXENTRY_355"></a><a id="_VPID_124" name="_VPID_124"></a></p>
<p align="left"><b>SAMPLET_DATE (DAT_TO_SAMPLE, YR, MO, DAY, HR, MIN, SEC) </b>Returns data sampled by interpolating to one or more times</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT_TO_SAMPLE</p>
</td>
<td>
<p align="left">Data to sample, field of x, y, z and t</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YR</p>
</td>
<td>
<p align="left">Year(s), integer YYYY</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">MO</p>
</td>
<td>
<p align="left">Month(s), integer month number MM</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">DAY</p>
</td>
<td>
<p align="left">Day(s) of month, integer DD</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">HR</p>
</td>
<td>
<p align="left">Hour(s) integer HH</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">MIN</p>
</td>
<td>
<p align="left">Minute(s), integer MM</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">SEC</p>
</td>
<td>
<p align="left">Second(s), integer SS</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">ABSTRACT; length is # times sampled. The length is determined from the length of argument 2.</p>
</td>
</tr></tbody></table><p align="left">As with other functions which change axes, specify any region information for the variable DAT_TO_SAMPLE explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left"><b>Example: </b></p>
<p align="left">List wind speed at a subset of points from the monthly navy winds data set. To choose times all in the single year 1985, we can define a variable year = constant + 0*month, the same length as month but with all 1985 data.</p>
<pre>
<b>yes? use monthly_navy_winds

yes? set reg/x=131:139/y=29
yes? let month = {1,5,11}
yes? let day = {20,20,20}
yes? let year = 1985 + 0*month
yes? let zero = 0*month
yes? list samplet_date (uwnd, year, month, day, zero, zero, zero)
             VARIABLE : SAMPLET_DATE (UWND, YEAR, MONTH, DAY, ZERO, ZERO, ZERO)
             FILENAME : monthly_navy_winds.cdf
             FILEPATH : /home/porter/tmap/ferret/linux/fer_dsets/data/
             SUBSET   : 5 by 3 points (LONGITUDE-T)
             LATITUDE : 20N
           130E   132.5E 135E   137.5E 140E   
            45     46     47     48     49
 1   / 1: -7.563 -7.546 -7.572 -7.354 -6.743
 2   / 2: -3.099 -3.256 -3.331 -3.577 -4.127
 3   / 3: -7.717 -7.244 -6.644 -6.255 -6.099
</b>
</pre><p align="left" class="secHeader"><b>Ch3 Sec2.3.34. </b><a name="_VPID_125" id="_VPID_125"></a><b><a name="_VPINDEXENTRY_356" id="_VPINDEXENTRY_356"></a><a name="_VPINDEXENTRY_357" id="_VPINDEXENTRY_357"></a><a name="_VPINDEXENTRY_358" id="_VPINDEXENTRY_358"></a><a name="_VPINDEXENTRY_359" id="_VPINDEXENTRY_359"></a><a name="_VPINDEXENTRY_360" id="_VPINDEXENTRY_360"></a>SAMPLEXY </b></p>
<p align="left"><b>SAMPLEXY(DAT_TO_SAMPLE,XPTS,YPTS) </b>Returns data sampled at a set of (X,Y) points, using linear interpolation.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT_TO_SAMPLE</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">X values of sample points</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">Y values of sample points</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT; length same as XPTSand YPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">NORMAL (no axis)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr></tbody></table><p align="left"><b>Note: </b></p>
<p align="left">SAMPLEXY is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the first argument rather than a a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left">If the x axis represents longitude, then<em> if the axis is marked as a modulo axis</em>, the xpts will be translated into the longitude range of the the axis, and the sampled variable is returned at those locations.</p>
<p align="left"><b>Examples: </b></p>
<p align="left">1) See the the script vertical_section.jnl to create a section along a line between two (lon,lat) locations; this script calls SAMPLEXY.</p>
<p align="left">2) Use SAMPLEXY to extract a section of data taken along a slanted line in the Pacific.</p>
<p align="left">First we generate the locations xlon, ylat (Figure3_3a). One could use a ship track, specifying its coordinates as <i>xlon, ylat</i>.</p>
<pre>
<b>yes? USE levitus_climatology

! define the slant line through (234.5,24.5)
! and with slope -24./49

yes? LET xlon = 234.5 + (I[I=1:50]-1) 
yes? LET slope = -1*24./49
yes? LET ylat = 24.5 + slope*(i[i=1:50] -1)

yes? PLOT/VS/LINE/SYM=27 xlon,ylat ! line off Central America
yes? GO land </b></pre><p align="left">Now sample the field "salt" along this track and make a filled contour plot. The horizontal axis is abstract; it is a count of the number of points along the track. To speed the calculation, or if we otherwise want to restrict the region used on the variable salt, put that information in explicit limits on the first argument. (Figure3_3b)</p>
<pre>
<b>yes? LET slantsalt = samplexy(salt[x=200:300,y=0:30],xlon,ylat)
yes? FILL/LEVELS=(33.2,35.2,0.1)/VLIMITS=0:4000 slantsalt </b></pre><p></p>
<p>
<a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig03a.gif"><img alt="Ch3_fig03a" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig03a.gif" width="200" /></a><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig03b.gif"><img alt="Ch3_fig03b" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig03b.gif" width="200" /></a></p>
<p></p>
<p></p>
<p align="left" class="secHeader"></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.35. </b><a name="_VPID_126" id="_VPID_126"></a><b><a name="_VPINDEXENTRY_361" id="_VPINDEXENTRY_361"></a><a name="_VPINDEXENTRY_362" id="_VPINDEXENTRY_362"></a><a name="_VPINDEXENTRY_363" id="_VPINDEXENTRY_363"></a><a name="_VPINDEXENTRY_364" id="_VPINDEXENTRY_364"></a>SAMPLEXY_CLOSEST </b></b></p>
<p align="left">SAMPLEXY_CLOSEST(DAT_TO_SAMPLE,XPTS,YPTS) Returns data sampled at a set of (X,Y) points without interpolation, using nearest grid intersection.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT_TO_SAMPLE</p>
</td>
<td>
<p align="left">Data to sample</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">X values of sample points</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">Y values of sample points</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT; length same as XPTSand YPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">NORMAL (no axis)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr></tbody></table><p align="left"><b><b>Note</b></b>:SAMPLEXY_CLOSEST is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the first argument rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left">This function is a quick-and-dirty substitute for the SAMPLEXY function. It runs much faster than SAMPLEXY, since it does no interpolation. It returns the function value at the grid point closest to each point in XPTS, YPTS. It is less accurate than SAMPLEXY, but may give adequate results in a much shorter time for large samples.</p>
<p align="left">Example: compare with SAMPLEXY output</p>
<pre>
<b><b>yes? USE levitus_climatology
yes? LET xlon = 234.5 + I[I=1:20]
yes? LET dely = 24./19
yes? LET ylat = 24.5 - dely*i[i=1:20] + dely

yes? LET a = samplexy(salt[X=200:300,Y=0:30,K=1], xlon, ylat)
yes? LET b = samplexy_closest(salt[X=200:300,Y=0:30,K=1], xlon, ylat)

yes? LIST a, b
             DATA SET: /home/porter/tmap/ferret/linux/fer_dsets/data/levitus_climatology.cdf
             X: 0.5 to 20.5
             DEPTH (m): 0
 Column  1: A is SAMPLEXY(SALT[X=200:300,Y=0:30,K=1], XLON, YLAT)
 Column  2: B is SAMPLEXY_CLOSEST(SALT[X=200:300,Y=0:30,K=1], XLON, YLAT)
               A     B
1    /  1:  34.22  34.22
2    /  2:  34.28  34.26
3    /  3:  34.35  34.39
4    /  4:  34.41  34.43
5    /  5:  34.44  34.44
6    /  6:  34.38  34.40
7    /  7:  34.26  34.22
8    /  8:  34.09  34.07
9    /  9:  33.90  33.92
10   / 10:  33.74  33.78
11   / 11:  33.64  33.62
12   / 12:  33.63  33.62
13   / 13:  33.69  33.67
14   / 14:  33.81  33.75
15   / 15:  33.95  34.00
16   / 16:  34.11  34.11
17   / 17:  34.25  34.22
18   / 18:  34.39  34.33
19   / 19:  34.53  34.56
20   / 20:  34.65  34.65
</b></b></pre><p align="left" class="secHeader"><a name="_SAMPLEXY_CURV" id="_SAMPLEXY_CURV"></a><a name="_VPID_127" id="_VPID_127"></a><b><b>Ch3 Sec2.3. </b><b>SAMPLEXY_CURV </b></b></p>
<p align="left">SAMPLEXY_CURV Returns data which is on a curvilinear grid, sampled at a set of (X,Y) points, using interpolation.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT_TO_SAMPLE</p>
</td>
<td>
<p align="left">Data to sample<br />
			(2D curvilinear data field)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">DAT_LON</p>
</td>
<td>
<p align="left">Longitude coordinates of the curvilinear grid<br />
			(2D curvilinear longitudes)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">DAT_LAT</p>
</td>
<td>
<p align="left">Latitude coordinates of the curvilinear grid<br />
			(2D curvilinear latitudes)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">X values of sample points<br />
			(1D list of points)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">Y values of sample points<br />
			(1D list of points, same length as XPTS</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT; length same as XPTS and YPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">NORMAL (no axis)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT_TO_SAMPLE</p>
</td>
</tr></tbody></table><p align="left"><b><b>Note:</b></b> SAMPLEXY_CURV is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the first argument rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left"><b>Example 1:</b></p>
<pre>
yes? USE curvi_data.nc
yes? SHADE u, geolon, geolat

   ! Define a set of locations. Note that the X values 
   ! must be in the range of x coordinate values from the
   ! variable geolon. The function does not wrap values 
   ! around to other modulo longitude values.

yes? LET xpts = {-111, -110, -6, 0, 43, 51}
yes? LET ypts = {  -9,   -8, -6,-2, -3, -4}

   ! check how the points overlay on the original grid

yes? PLOT/VS/OVER xpts, ypts
 
   ! this will list the U values at the (xpts,ypts) locations
yes? LIST SAMPLEXY_CURV(u, geolon, geolat, xpts, ypts)
</pre><p align="left">
<b>Example 2:</b></p>
<pre>
   ! This method can be used to sample data on a grid of values   
   ! Note it can be slow if you choose to sample at a lot of points. 
   ! The CURV_TO_RECT functions may be a better choice in that case.

yes? DEFINE AXIS/X=-200:-100:5 newx
yes? DEFINE AXIS/Y=-20:20:1 newy

   ! Define variables containing all the x points at each y level, 
   ! and likewise for y at each x
yes? LET xpts = x[gx=newx] + 0*y[gy=newy]
yes? LET ypts = 0*x[gx=newx] + y[gy=newy]

   ! The last 2 arguments to SAMPLEXY_CURV are 1D lists
yes? LET xsample = xsequence(xpts)
yes? LET ysample = xsequence(ypts)

   ! Check how the points overlay on the curvilienar data
yes? PLOT/VS/OVER xsample, ysample


   ! upts is a list of values at the (xsample,ysample) locations
yes? LET upts = SAMPLEXY_CURV(u, geolon, geolat, xsample, ysample)


   ! Put this onto the 2D grid defined by the new axes.
yes? LET/TITLE="U sampled to new grid"/UNITS="`u,return=units`" \
   u_on_newgrid = RESHAPE(upts, xpts)


yes? SET WIN/NEW
yes? SHADE u_on_newgrid</pre><p align="left"></p>
<p align="left">Ferret includes a number of SCAT2GRID functions which take a set of scattered locations in 2 dimensions, a grid definition, and interpolate data at the scattered locations to a grid. See below for the rest of the SCAT2GRIDGAUSS functions, followed by the <a href="#_SCAT2GRIDLAPLACE_XY">SCAT2GRIDLAPLACE</a> functions. Also see Appendix A for functions that use binning to put data onto a grid: <a href="../appendix-a-external-functions/scat2grid_bin_xy.html" title="SCAT2GRID_BIN_XY and SCAT2GRID_BIN_XYT">SCAT2GRID_BIN_XY</a>, and the count of scattered data used in a gridding operation: <a href="../appendix-a-external-functions/scatgrid_nbin_xyt.html" title="SCAT2GRID_NBIN_XY and SCAT2GRID_NBIN_XYT">SCAT2GRID_NBIN_XY</a> and <a href="../appendix-a-external-functions/scat2grid_nobs_xy.html" title="SCAT2GRID_NOBS_XY">SCAT2GRID_NOBS_XY</a>. These binning functions also have XYT versions.</p>
<p align="left"><a href="http://ferret.lark.pmel.noaa.gov/documentation/users-guide/data-set-basics/2-8-discrete-geometries-datasets-1">Discrete Sampling Geometries</a> (DSG) data:</p>
<p align="left">Observational data from DSG datasets contain collections of data which while not truly scattered, has lists of coordinate information that can feed into these functions for gridding into a multi-dimensional grid. However, with the exception of trajectory data the coordinates do not all have the same dimensionality. Timeseries data for instance has a station location for each station, and multiple observations in time. Profile data has station location and time, and multiple heights/depths in each profile. For the SCAT2GRID functions we need all of the first arguments, the "scattered" locations and observation, to be of the same size. We need to expand the station data to repeat the station location for each time in that station's time series.</p>
<p>The FAQ, <a href="https://ferret.pmel.noaa.gov/Ferret/faq/calling-scat2grid-functions-dsg-data">Calling SCAT2GRID functions for DSG data</a> explains how to work with these datasets.</p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_XY" id="_SCAT2GRIDGAUSS_XY"></a><a name="_VPID_128" id="_VPID_128"></a><a name="_VPINDEXENTRY_370" id="_VPINDEXENTRY_370"></a>SCAT2GRIDGAUSS_XY</p>
<p align="left"><strong>SCAT2GRIDGAUSS_XY</strong>(XPTS, YPTS, F, XCOORD, YCOORD, XSCALE, YSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to an XY grid</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">x-locations of scattered input triples, organized as a 1D list on any axis.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">y-locations of scattered input triples, organized as a 1D list on any axis.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">F-data: 3rd component of scattered input triples. This is the variable we are putting onto the grid. It must have the scattered-data direction along an X or Y axis. May be fcn of Z, time, E, or F.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XAXPTS</p>
</td>
<td>
<p align="left">coordinates of X-axis of output grid. Must be regularly spaced.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YAXPTS</p>
</td>
<td>
<p align="left">coordinates of Y-axis of output grid. Must be regularly spaced.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XSCALE</p>
</td>
<td>
<p align="left">Mapping scale for Gaussian weights in X direction, in data units (e.g. lon or m). See the discussion below.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YSCALE</p>
</td>
<td>
<p align="left">Mapping scale for Gaussian weights in Y direction, in data units (e.g. lat or m)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">CUTOFF</p>
</td>
<td>
<p align="left">Cutoff for weight function. Only scattered points within CUTOFF*XSCALE and CUTOFF*YSCALE of the grid box center are included in the sum for the grid box.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">0</p>
</td>
<td>
<p align="left">An unused argument: previously there had been a second "cutoff" argument but it was redundant. There is only one cutoff in the algorithm once the XSCALE and YSCALE mapping is applied. In future versions of Ferret this argument will be removed.</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from XAXPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from YAXPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from F</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from F</p>
</td>
</tr></tbody></table><p align="left"><b><b>Note: </b></b></p>
<p align="left">The SCAT2GRIDGAUSS functions are "grid-changing" functions; the output grid is different from the input arguments. Therefore it is best to use explicit limits on any of the arguments rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left">Quick example:</p>
<pre>
yes? DEFINE AXIS/X=180:221:1 xax
yes? DEFINE AXIS/Y=-30:10:1 yax
yes? ! read some data
yes? SET DATA/EZ/VARIABLES="times,lats,lons,var" myfile.dat 

yes? LET my_out = SCAT2GRIDGAUSS_XY(lons, lats, var, x[gx=xax], y[gy=yax], 2, 2, 2, 0)</pre><p align="left">If the output X axis is a modulo longitude axis, then the scattered X values should lie within the range of the actual coordinates of the axis. That is, if the scattered X values are xpts={355, 358, 2, 1, 352, 12} and the coordinates of the X axis you wish to grid to are longitudes of x=20,23,25,...,379 then you should apply a shift to your scattered points:</p>
<pre>
<b><b>yes? USE levitus_climatology ! output will be on the grid of SALT 

yes? LET xx = x[gx=salt]
yes? LET x1 = if lons lt `xx[x=@min]` then lons+360
yes? LET xnew = if x1 gt `xx[x=@max] then x1-360 else x1 
</b></b>yes? LET my_out = SCAT2GRIDGAUSS_XY(xnew, ypts, var, x[gx=xax], y[gy=yax], 2, 2, 2, 0)</pre><p align="left">The SCAT2GRIDGAUSS* functions use 1a Gaussian interpolation method to map irregular locations (x<sub>n</sub>, y<sub>n</sub>) to a regular grid (x<sub>0</sub>, y<sub>0</sub>). The output grid must have equally-spaced gridpoints in both the x and y directions. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration<br /><a href="../../ferret-objective-analysis.html">How to use Ferret External Functions for gridding scattered data points</a></p>
<p align="left">In addition, see the FAQ, <a href="https://ferret.pmel.noaa.gov/Ferret/faq/calling-scat2grid-functions-dsg-data">Calling SCAT2GRID functions for DSG data</a> explains how to work with these datasets.</p>
<p align="left">Parameters for a square grid and a fairly dense distribution of scattered points relative to the grid might be XSCALE=YSCALE = 0.5, and CUTOFF = 2. To get better coverage, use a coarser grid or increase XSCALE, YSCALE and/or CUTOFF.</p>
<p align="left">The value of the gridded function F at each grid point (x<sub>0</sub>, y<sub>0</sub>) is computed by:</p>
<p class="indented">F(x<sub>0</sub>,y<sub>0</sub>) = S<sub>(n=1 to Np)</sub>F(x<sub>n</sub>,y<sub>n</sub>)W(x<sub>n</sub>,y<sub>n</sub>) / S<sub>(n=1 to Np)</sub>W(x<sub>n</sub>,y<sub>n</sub>)</p>
<p align="left">Where<i> Np</i> is the total number of irregular points within the "influence region" of a particular grid point, (determined by the CUTOFF parameter, defined below). The Gaussian weight fucntion W<sub>n</sub> is given by</p>
<p class="indented">W<sub>n</sub>(x<sub>n</sub>,y<sub>n</sub>) = exp{-[(x<sub>n</sub>-x<sub>0</sub>)<sup>2</sup>/(X)<sup>2</sup> + (y<sub>n</sub>-y<sub>0</sub>)<sup>2</sup>/(Y)<sup>2</sup>]}</p>
<p align="left">X and Y in the denominators on the right hand side are the mapping scales, arguments XSCALE and YSCALE.</p>
<p align="left">The weight function has a nonzero value everywhere, so all of the scattered points in theory could be part of the sum for each grid point. To cut computation, the parameter CUTOFF is employed. If a cutoff of 2 is used (e.g. CUTOFF* XSCALE=2), then the weight function is set to zerowhen W<sub>n</sub>&lt; e<sup>-4</sup>. This occurs where distances from the grid point are less than 2 times the mapping scales X or Y.</p>
<p align="left">(Reference for this method: Kessler and McCreary, 1993: The Annual Wind-driven Rossby Wave in the Subthermocline Equatorial Pacific, Journal of Physical Oceanography 23, 1192 -1207)</p>
<p></p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_XZ" id="_SCAT2GRIDGAUSS_XZ"></a><a name="_VPID_129" id="_VPID_129"></a>SCAT2GRIDGAUSS_XZ</p>
<p align="left"><strong>SCAT2GRIDGAUSS_XZ</strong>(XPTS, ZPTS, F, XAXPTS, ZAXPTS, XSCALE, ZSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to an XZ grid</p>
<p align="left">See the description under <a href="XPRESSIONS.html#_VPINDEXENTRY_370">SCAT2GRIDGAUSS_XY</a>. Note that the output grid must have equally-spaced gridpoints in both the x and z directions.</p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_XT" id="_SCAT2GRIDGAUSS_XT"></a>SCAT2GRIDGAUSS_XT</p>
<p align="left"><strong>SCAT2GRIDGAUSS_XT</strong>(XPTS, TPTS, F, XAXPTS, TAXPTS, XSCALE, TSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to an XT grid</p>
<p align="left">See the description under <a href="XPRESSIONS.html#_VPINDEXENTRY_370">SCAT2GRIDGAUSS_XY</a>. Note that the output grid must have equally-spaced gridpoints in both the x and z directions.</p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_YZ" id="_SCAT2GRIDGAUSS_YZ"></a><a name="_VPID_130" id="_VPID_130"></a>SCAT2GRIDGAUSS_YZ</p>
<p align="left"><strong>SCAT2GRIDGAUSS_YZ</strong>(YPTS, ZPTS, F, YAXPTS, ZAXPTS, YSCALE, ZSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to a YZ grid</p>
<p align="left">See the description under <a href="XPRESSIONS.html#_VPINDEXENTRY_370">SCAT2GRIDGAUSS_XY</a>. Note that the output grid must have equally-spaced gridpoints in both the y and z directions.</p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_YT" id="_SCAT2GRIDGAUSS_YT"></a>SCAT2GRIDGAUSS_YT</p>
<p align="left"><strong>SCAT2GRIDGAUSS_YT</strong>(YPTS, TPTS, F, YAXPTS, TAXPTS, YSCALE, TSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to a YT grid</p>
<p align="left">See the description under <a href="XPRESSIONS.html#_VPINDEXENTRY_370">SCAT2GRIDGAUSS_XY</a>. Note that the output grid must have equally-spaced gridpoints in both the y and z directions.</p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDGAUSS_ZT" id="_SCAT2GRIDGAUSS_ZT"></a>SCAT2GRIDGAUSS_ZT</p>
<p align="left"><strong>SCAT2GRIDGAUSS_ZT</strong>(ZPTS, TPTS, F, ZAXPTS, TAXPTS, ZSCALE, TSCALE, CUTOFF, 0) Use Gaussian weighting to grid scattered data to a ZT grid</p>
<p align="left">See the description under <a href="XPRESSIONS.html#_VPINDEXENTRY_370">SCAT2GRIDGAUSS_XY</a>. Note that the output grid must have equally-spaced gridpoints in both the y and z directions.</p>
<p align="left" class="secHeader">Ch3 Sec2.3. <a name="_SCAT2GRIDLAPLACE_XY" id="_SCAT2GRIDLAPLACE_XY"></a><a name="_VPID_131" id="_VPID_131"></a><a name="_VPINDEXENTRY_376" id="_VPINDEXENTRY_376"></a>SCAT2GRIDLAPLACE_XY</p>
<p align="left"><strong>SCAT2GRIDLAPLACE_XY</strong>(XPTS, YPTS, F, XAXPTS, YAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to an XY grid.</p>
<table><tbody><tr><td>
<p align="left">Arguments:</p>
</td>
<td>
<p align="left">XPTS</p>
</td>
<td>
<p align="left">x--locations of scattered input triples, organized as a 1D list on any axis.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YPTS</p>
</td>
<td>
<p align="left">y-locations of scattered input triples, organized as a 1D list on any axis.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">F-data: 3rd component of scattered input triples. This is the variable we are putting onto the grid. It must have the scattered-data direction along an X or Y axis. May be fcn of Z, time, E, or F.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">XAXPTS</p>
</td>
<td>
<p align="left">coordinates of X-axis of output grid. Must be regularly spaced.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">YAXPTS</p>
</td>
<td>
<p align="left">coordinates of Y-axis of output grid. Must be regularly spaced.</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">CAY</p>
</td>
<td>
<p align="left">Amount of spline equation (between 0 and inf.) vs Laplace interpolation</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">NRNG</p>
</td>
<td>
<p align="left">Grid points more than NRNG grid spaces from the nearest data point are set to undefined.</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from XAXPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from YAXPTS</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from F</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from F</p>
</td>
</tr></tbody></table><p align="left"><b>Note: </b></p>
<p align="left">The SCAT2GRIDLAPLACE functions are "grid-changing" functions; the output grid is different from the input arguments. Therefore it is best to use explicit limits on any of the arguments rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions.</a></p>
<p align="left">Quick example:</p>
<pre>

yes? DEFINE AXIS/X=180:221:1 xax
yes? DEFINE AXIS/Y=-30:10:1 yax
yes? ! read some data
yes? SET DATA/EZ/VARIABLES="times,lats,lons,var" myfile.dat 

yes? LET my_out = SCAT2GRIDLAPLACE_XY(lons, lats, var, x[gx=xax], y[gy=yax], 2., 5) 
yes? SHADE my_out</pre><p align="left">If the output X axis is a modulo longitude axis, then the scattered X values should lie within the range of the actual coordinates of the axis. That is, if the scattered X values are xpts={355, 358, 2, 1, 352, 12} and the coordinates of the X axis you wish to grid to are longitudes of x=20,23,25,...,379 then you should apply a shift to your scattered points:</p>
<pre>

<b><b>yes? USE levitus_climatology ! output will be on the grid of SALT 

yes? LET xx = x[gx=salt]
yes? LET x1 = if lons lt `xx[x=@min]` then lons+360
yes? LET xnew = if x1 gt `xx[x=@max] then x1-360 else x1 
yes? LET my_out = SCAT2GRIDLAPLACE_XY(xnew, lats, var, x[gx=xax], y[gy=yax], 2., 5) 
</b></b></pre><p align="left">For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration<br />
</p>
<p align="left"><a href="../../ferret-objective-analysis.html">How to use Ferret External Functions for gridding scattered data points</a></p>
<p align="left">In addition, see the FAQ, <a href="https://ferret.pmel.noaa.gov/Ferret/faq/calling-scat2grid-functions-dsg-data">Calling SCAT2GRID functions for DSG data</a> explains how to work with these datasets.</p>
<p><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></p>
<p align="left">The SCAT2GRIDLAPLACE* functions employ the same interpolation method as is used by PPLUS, and appears elsewhere in Ferret, e.g. in contouring. The parameters are used as follows (quoted from the PPLUS Users Guide. A reference for this is "Plot Plus, a Scientific Graphics System", written by Donald W. Denbo, April 8, 1987.):</p>
<p align="left">CAY<br />
If CAY=0.0, Laplacian interpolation is used. The resulting surface tends to have rather sharp peaks and dips at the data points (like a tent with poles pushed up into it). There is no chance of spurious peaks appearing. As CAY is increased, Spline interpolation predominates over the Laplacian, and the surface passes through the data points more smoothly. The possibility of spurious peaks increases with CAY. CAY= infinity is pure Spline interpolation. An over relaxation process in used to perform the interpolation. A value of CAY=5 often gives a good surface.</p>
<p align="left">NRNG<br />
Any grid points farther than NRNG away from the nearest data point will be set to "undefined" The default used by PPLUS is NRNG = 5</p>
<p></p>
<p align="left" class="secHeader">Ch3 Sec2.3. <a name="_VPID_132" id="_VPID_132"></a><a name="_SCAT2GRIDLAPLACE_XZ" id="_SCAT2GRIDLAPLACE_XZ"></a><a name="_VPINDEXENTRY_378" id="_VPINDEXENTRY_378"></a><a name="_VPINDEXENTRY_379" id="_VPINDEXENTRY_379"></a>SCAT2GRIDLAPLACE_XZ</p>
<p></p>
<p align="left"><strong>SCAT2GRIDLAPLACE_XZ</strong>(XPTS, ZPTS, F, XAXPTS, ZAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to an XZ grid.</p>
<p><b><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></b></p>
<p align="left">The gridding algorithm is discussed under <a href="XPRESSIONS.html#_VPINDEXENTRY_376">SCAT2GRIDLAPLACE_XY</a>. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration<br /><b><a href="http://ferret.pmel.noaa.gov/static/Demos/objective_analysis_demo/objective_analysis_demo.html">How to use Ferret External Functions for gridding scattered data points</a></b></p>
<p align="left"></p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDLAPLACE_XT" id="_SCAT2GRIDLAPLACE_XT"></a>SCAT2GRIDLAPLACE_XT</p>
<p align="left"><strong>SCAT2GRIDLAPLACE_XT</strong>(XPTS, TPTS, F, XAXPTS, TAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to an XT grid.</p>
<p><b><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></b></p>
<p align="left">The gridding algorithm is discussed under <a href="XPRESSIONS.html#_VPINDEXENTRY_376">SCAT2GRIDLAPLACE_XY</a>. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration<br /><b><a href="http://ferret.pmel.noaa.gov/static/Demos/objective_analysis_demo/objective_analysis_demo.html">How to use Ferret External Functions for gridding scattered data points</a></b></p>
<p align="left"></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3 </b><b><a name="_SCAT2GRIDLAPLACE_YT" id="_SCAT2GRIDLAPLACE_YT"></a>SCAT2GRIDLAPLACE_YT </b></b></p>
<p align="left"><strong>SCAT2GRIDLAPLACE_YT</strong>(YPTS, TPTS, F, YAXPTS, TAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to a YT grid.</p>
<p><b><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></b> The gridding algorithm is discussed under <a href="XPRESSIONS.html#_VPINDEXENTRY_376">SCAT2GRIDLAPLACE_XY</a>. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration</p>
<p></p>
<p align="left">
<a href="http://ferret.pmel.noaa.gov/static/Demos/objective_analysis_demo/objective_analysis_demo.html">How to use Ferret External Functions for gridding scattered data points</a></p>
<p></p>
<p align="left"></p>
<p></p>
<p align="left" class="secHeader">Ch3 Sec2.3 <a name="_SCAT2GRIDLAPLACE_YZ" id="_SCAT2GRIDLAPLACE_YZ"></a><a name="_VPID_133" id="_VPID_133"></a>SCAT2GRIDLAPLACE_YZ</p>
<p></p>
<p align="left"><strong>SCAT2GRIDLAPLACE_YZ</strong>(YPTS, ZPTS, F, YAXPTS, ZAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to an YZ grid.</p>
<p><b><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></b> The gridding algorithm is discussed under <a href="XPRESSIONS.html#_VPINDEXENTRY_376">SCAT2GRIDLAPLACE_XY</a>. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration</p>
<p></p>
<p align="left">
<a href="http://ferret.pmel.noaa.gov/static/Demos/objective_analysis_demo/objective_analysis_demo.html">How to use Ferret External Functions for gridding scattered data points</a></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3 </b><a name="_SCAT2GRIDLAPLACE_ZT" id="_SCAT2GRIDLAPLACE_ZT"></a>SCAT2GRIDLAPLACE_ZT </b></p>
<p align="left"><strong>SCAT2GRIDLAPLACE_ZT</strong>(ZPTS, TPTS, F, ZAXPTS, TAXPTS, CAY, NRNG) Use Laplace/ Spline interpolation to grid scattered data to a ZT grid.</p>
<p><b><a name="AppendixA_scat2gridlaplace" id="AppendixA_scat2gridlaplace"></a></b> The gridding algorithm is discussed under <a href="XPRESSIONS.html#_VPINDEXENTRY_376">SCAT2GRIDLAPLACE_XY</a>. For examples of the gridding functions, run the script <i>objective_analysis_demo,</i> or see the on-line demonstration</p>
<p></p>
<p align="left"><strong>Note:</strong></p>
<p align="left"><a href="http://ferret.lark.pmel.noaa.gov/documentation/users-guide/data-set-basics/2-8-discrete-geometries-datasets-1">Discrete Sampling Geometries</a> (DSG) data:</p>
<p align="left">Observational data from DSG datasets contain collections of data which while not truly scattered, has lists of coordinate information that can feed into these functions for gridding into a multi-dimensional grid. However, with the exception of trajectory data the coordinates do not all have the same dimensionality. Timeseries data for instance has a station location for each station, and multiple observations in time. Profile data has station location and time, and multiple heights/depths in each profile. For the SCAT2GRID functions we need all of the first arguments, the "scattered" locations and observation, to be of the same size. We need to expand the station data to repeat the station location for each time in that station's time series.</p>
<p>The FAQ, <a href="https://ferret.pmel.noaa.gov/Ferret/faq/calling-scat2grid-functions-dsg-data">Calling SCAT2GRID functions for DSG data</a> explains how to work with these datasets.</p>
<p align="left">
<a href="http://ferret.pmel.noaa.gov/static/Demos/objective_analysis_demo/objective_analysis_demo.html">How to use Ferret External Functions for gridding scattered data points</a></p>
<p></p>
<p align="left"></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.43. </b><a name="_VPID_134" id="_VPID_134"></a><b><a name="_VPINDEXENTRY_382" id="_VPINDEXENTRY_382"></a><a name="_VPINDEXENTRY_383" id="_VPINDEXENTRY_383"></a>SORTI </b></b></p>
<p align="left"><b>SORTI(DAT): </b>Returns indices of data, sorted on the I axis in increasing order</p>
<p align="left"><b>SORTI_STR(DAT):</b> returns indices of data, sorted on the I axis in increasing order. If SORTI is called with a string variable as the argument. SORTI_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT x-axis</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left"><b>T</b></p>
</td>
<td>
<p align="left"><b>Inherited from DAT</b></p>
</td>
</tr></tbody></table><p align="left">SORTI, SORTJ, SORTK, SORTL, SORTM, and SORTN return the indices of the data after it has been sorted. These functions are used in conjunction with functions such as the SAMPLE functions to do sorting and sampling. See the demonstration <a href="../../sorting-demo.html" title="Sorting Demo">ef_sort_demo.jnl </a>for common useage of these functions.</p>
<p align="left">As with other functions which change axes, specify any region information for the variable DAT explicitly in the function call. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.44. </b><a name="_VPID_135" id="_VPID_135"></a><b><a name="_VPINDEXENTRY_384" id="_VPINDEXENTRY_384"></a><a name="_VPINDEXENTRY_385" id="_VPINDEXENTRY_385"></a>SORTJ </b></b></p>
<p></p>
<p align="left"><b><b>SORTJ(DAT) </b>Returns indices of data, sorted on the I axis in increasing order</b></p>
<p align="left"><b>SORTJ_STR(DAT):</b> returns indices of data, sorted on the J axis in increasing order. If SORTJ is called with a string variable as the argument, SORTJ_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT y-axisInherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr></tbody></table><p align="left">See the discussion under<b> <a href="XPRESSIONS.html#_VPINDEXENTRY_382">SORTI</a></b></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.45. </b><a name="_VPID_136" id="_VPID_136"></a><b><a name="_VPINDEXENTRY_386" id="_VPINDEXENTRY_386"></a><a name="_VPINDEXENTRY_387" id="_VPINDEXENTRY_387"></a>SORTK </b></b></p>
<p></p>
<p align="left"><b><b>SORTK(DAT) </b></b>Returns indices of data, sorted on the I axis in increasing order</p>
<p align="left"><b>SORTK_STR(DAT):</b> returns indices of data, sorted on the K axis in increasing order. If SORTK is called with a string variable as the argument, SORTK_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT z-axis</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr></tbody></table><p align="left">See the discussion under<b> <a href="XPRESSIONS.html#_VPINDEXENTRY_382">SORTI</a></b></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.46. </b><a name="_VPID_137" id="_VPID_137"></a><b><a name="_VPINDEXENTRY_388" id="_VPINDEXENTRY_388"></a><a name="_VPINDEXENTRY_389" id="_VPINDEXENTRY_389"></a>SORTL </b></b></p>
<p></p>
<p align="left"><b>SORTL(DAT) </b>Returns indices of data, sorted on the L axis in increasing order</p>
<p align="left"><b>SORTL_STR(DAT):</b> returns indices of data, sorted on the L axis in increasing order. If SORTL is called with a string variable as the argument, SORTL_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT t-axis</p>
</td>
</tr></tbody></table><p align="left">See the discussion under<b> <a href="XPRESSIONS.html#_VPINDEXENTRY_382">SORTI</a></b></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.46 </b><b><a name="_SORTM" id="_SORTM"></a>SORTM </b></b></p>
<p></p>
<p align="left"><b>SORTM(DAT) </b>Returns indices of data, sorted on the M axis in increasing order</p>
<p align="left"><b>SORTM_STR(DAT):</b> returns indices of data, sorted on the M axis in increasing order. If SORTM is called with a string variable as the argument, SORTM_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">E</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT e-axis</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr></tbody></table><p align="left">See the discussion under<b> <a href="XPRESSIONS.html#_VPINDEXENTRY_382">SORTI</a></b></p>
<p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.46. </b><b><a name="_SORTN" id="_SORTN"></a>SORTN </b></b></p>
<p></p>
<p align="left"><b>SORTN(DAT) </b>Returns indices of data, sorted on the N axis in increasing order</p>
<p align="left"><b>SORTN_STR(DAT):</b> returns indices of data, sorted on the N axis in increasing order. If SORTN is called with a string variable as the argument, SORTN_STR is run by Ferret.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">DAT</p>
</td>
<td>
<p align="left">DAT: variable to sort</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">E</p>
</td>
<td>
<p align="left">Inherited from DAT</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">F</p>
</td>
<td>
<p align="left">ABSTRACT, same length as DAT f-axis</p>
</td>
</tr></tbody></table><p align="left">See the discussion under<b> <a href="XPRESSIONS.html#_VPINDEXENTRY_382">SORTI</a></b></p>
<p>
<a name="_VPINDEXENTRY_minmax" id="_VPINDEXENTRY_minmax"></a></p>
<ul></ul><p></p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3.47. </b><a name="_VPID_138" id="_VPID_138"></a><b><a name="_VPINDEXENTRY_390" id="_VPINDEXENTRY_390"></a><a name="_VPINDEXENTRY_391" id="_VPINDEXENTRY_391"></a><a name="_VPINDEXENTRY_392" id="_VPINDEXENTRY_392"></a>TAUTO_COR </b></b></p>
<p align="left"><b><b>TAUTO_COR(A): </b>Compute autocorrelation function (ACF) of time series, lags of 0,...,N-1, where N is the length of the time axis.</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">A function of time, and perhaps x,y,z</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">ABSTRACT, same length as A time axis (lags)</p>
</td>
</tr></tbody></table><p align="left"><b><b>Note: </b></b></p>
<p align="left">TAUTO_COR is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the first argument rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.</p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3 </b><a name="_XAUTO_COR" id="_XAUTO_COR"></a><a name="_VPID_139" id="_VPID_139"></a>XAUTO_COR </b></p>
<p align="left"><b><b>XAUTO_COR(A): </b></b>Compute autocorrelation function (ACF) of a series in X, lags of 0,...,N-1, where N is the length of the x axis.</p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">A function of x, and perhaps y,z,t</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">ABSTRACT, same length as X axis of A (lags)</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left"><b><b>Note: </b></b></p>
<p align="left">XAUTO_COR is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the first argument rather than a SET REGION command. See the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_306">grid-changing functions</a>.<br />
</p>
<p align="left" class="secHeader"><b><b>Ch3 Sec2.3 </b><a name="_TAX_DAY" id="_TAX_DAY"></a><a name="_VPID_141" id="_VPID_141"></a><b>TAX_DAY</b> </b></p>
<p align="left"><b><b>TAX_DAY(A, B): </b>Returns days of month of time axis coordinate values</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left"><b>NOTE:</b> The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a></p>
<p align="left"><i><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a></i><i>.]</i> With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"><b><b>Example: </b></b></p>
<pre>
<b><b>yes? use "http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/reynolds_sst_wk.nc"

yes? list/t=1-feb-1982:15-mar-1982 tax_day(t[gt=wsst], wsst[i=1,j=1])

             VARIABLE : TAX_DAY (T[GT=WSST], WSST[I=1,J=1])
             DATA SET : Reynolds Optimum Interpolation Weekly SST Analysis
             FILENAME : reynolds_sst_wk.nc
             FILEPATH : http://ferret.pmel.noaa.gov/thredds/dodsC/data/PMEL/
             SUBSET   : 7 points (TIME)
 02-FEB-1982 00 /  5:   2.00
 09-FEB-1982 00 /  6:   9.00
 16-FEB-1982 00 /  7:  16.00
 23-FEB-1982 00 /  8:  23.00
 02-MAR-1982 00 /  9:   2.00
 09-MAR-1982 00 / 10:   9.00
 16-MAR-1982 00 / 11:  16.00
</b></b></pre><p align="left" class="secHeader"><b><b>Ch3 Sec2.3 </b><a name="_TAX_DAYFRAC" id="_TAX_DAYFRAC"></a><a name="_VPID_142" id="_VPID_142"></a>TAX_DAYFRAC </b></p>
<p align="left"><strong>TAX_DAYFRAC(A, B): Returns fraction of day from time axis coordinate values</strong></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE: The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a>.</p>
<p align="left"><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a><b><b>.] </b></b>With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"></p>
<p align="left">Example: Show both the TAX_DATESTRING and TAX_DAYFRAC output. Because this is a climatological axis, there are no years in the dates.<b><b> </b></b></p>
<pre>
<b><b>yes? use coads_climatology
</b></b>
<b><b><b><b>yes? let tt = t[gt=sst, L=1:5]
yes? let tvar = sst[x=180,y=0]

yes? list tax_datestring(tt, tvar, "hour"), tax_dayfrac(tt,tvar)
             DATA SET: /home/users/tmap/ferret/linux/fer_dsets/data/coads_climatology.cdf
             TIME: 01-JAN 00:45 to 01-JUN 05:10
 Column  1: EX#1 is TAX_DATESTRING(TT, TVAR, "hour")
 Column  2: EX#2 is TAX_DAYFRAC(TT,TVAR)
                       EX#1    EX#2
16-JAN      / 1: "16-JAN 06"  0.2500
15-FEB      / 2: "15-FEB 16"  0.6869
17-MAR      / 3: "17-MAR 02"  0.1238
16-APR      / 4: "16-APR 13"  0.5606
16-MAY      / 5: "16-MAY 23"  0.9975
</b></b></b></b></pre><p align="left" class="secHeader"><b><b>Ch3 Sec2.3.52. </b><a name="_VPID_143" id="_VPID_143"></a><b><a name="_VPINDEXENTRY_401" id="_VPINDEXENTRY_401"></a><a name="_TAX_JDAY" id="_TAX_JDAY"></a>TAX_JDAY </b></b></p>
<p align="left"><b><b>TAX_JDAY(A, B): </b>Returns day of year from time axis coordinate values</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE 1:The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See also the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a>.</p>
<p align="left">NOTE 2: This function currently returns the date relative to a Standard (Gregorian) calendar. If the time axis is on a different calendar this is NOT taken into account. This will be fixed in a future Ferret release.</p>
<p align="left"><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a><b><b>.] </b></b>With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"></p>
<p align="left"><b><b>Example: </b></b></p>
<pre>
<b><b>yes? use coads_climatology
yes? list tax_jday(t[gt=sst], sst[i=1,j=1])
             VARIABLE : TAX_JDAY(T[GT=SST], SST[I=1,J=1])
             FILENAME : coads_climatology.cdf
             FILEPATH : /home/porter/tmap/ferret/linux/fer_dsets/data/
             SUBSET   : 12 points (TIME)
 16-JAN      /  1:   16.0
 15-FEB      /  2:   46.0
 17-MAR      /  3:   77.0
 16-APR      /  4:  107.0
 16-MAY      /  5:  137.0
 16-JUN      /  6:  168.0
 16-JUL      /  7:  198.0
 16-AUG      /  8:  229.0
 15-SEP      /  9:  259.0
 16-OCT      / 10:  290.0
 15-NOV      / 11:  320.0
 16-DEC      / 12:  351.0
</b></b></pre><p align="left" class="secHeader"><b>Ch3 Sec2.3 <a name="_TAX_MONTH" id="_TAX_MONTH"></a><a name="_VPID_144" id="_VPID_144"></a>TAX_MONTH</b></p>
<p align="left"><b>TAX_MONTH(A, B): Returns months from time axis coordinate values</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE: The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See also the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a>.</p>
<p align="left"><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a><b><b>.] </b></b>With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"></p>
<p align="left"><b><b>Example: </b></b></p>
<pre>
<b><b>yes? use "http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/reynolds_sst_wk.nc"</b>
yes? list/t=18-jan-1982:15-mar-1982 tax_month(t[gt=wsst], wsst[i=1,j=1])
             VARIABLE : TAX_MONTH(T[GT=WSST], WSST[I=1,J=1])
             DATA SET : Reynolds Optimum Interpolation Weekly SST Analysis
             FILENAME : reynolds_sst_wk.nc
             FILEPATH : http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/
             SUBSET   : 9 points (TIME)
 19-JAN-1982 00 /  3:  1.000
 26-JAN-1982 00 /  4:  1.000
 02-FEB-1982 00 /  5:  2.000
 09-FEB-1982 00 /  6:  2.000
 16-FEB-1982 00 /  7:  2.000
 23-FEB-1982 00 /  8:  2.000
 02-MAR-1982 00 /  9:  3.000
 09-MAR-1982 00 / 10:  3.000
 16-MAR-1982 00 / 11:  3.000
</b></pre><p align="left" class="secHeader"><b>Ch3 Sec2.3 <a name="_TAX_UNITS" id="_TAX_UNITS"></a><a name="_VPID_145" id="_VPID_145"></a>TAX_UNITS</b></p>
<p align="left"><strong>TAX_UNITS(A): Returns units from time axis coordinate values, in seconds</strong></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">variable with reference time axis</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE: to get the time units as a string use the RETURN=tunits keyword (p. )<b><b> </b></b></p>
<p align="left"><b><b>Example: </b></b></p>
<pre>
<b>yes? use "http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/reynolds_sst_wk.nc"
yes? say `wsst,return=tunits`
!-&gt; MESSAGE/CONTINUE DAYS
DAYS

yes? list tax_units(t[gt=wsst])
             VARIABLE : TAX_UNITS(T[GT=WSST])
             DATA SET : Reynolds Optimum Interpolation Weekly SST Analysis
             FILENAME : reynolds_sst_wk.nc
             FILEPATH : http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/
          86400.
</b></pre><p align="left" class="secHeader"><b><b>Ch3 Sec2.3.52. </b><a name="_TAX_YEAR" id="_TAX_YEAR"></a><a id="_VPID_146" name="_VPID_146"></a>TAX_YEAR</b></p>
<p align="left"><b>TAX_YEAR(A, B): Returns years of time axis coordinate values</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE :The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See also the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a>.</p>
<p align="left"><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a><b><b>.] </b></b>With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"></p>
<p align="left"><b><b>Example: </b></b></p>
<pre>
<b>yes? use "http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/COADS/coads_sst.cdf"
yes? list/L=1403:1408 tax_year(t[gt=sst], sst[i=1,j=1])
             VARIABLE : TAX_YEAR(T[GT=SST], SST[K=1,J=1])
             DATA SET : COADS Surface Marine Observations (1854-1993)
             FILENAME : coads_sst.cdf
             FILEPATH : http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/COADS/
             SUBSET   : 6 points (TIME)
 15-NOV-1970 00 / 1403:  1970.
 15-DEC-1970 00 / 1404:  1970.
 15-JAN-1971 00 / 1405:  1971.
 15-FEB-1971 00 / 1406:  1971.
 15-MAR-1971 00 / 1407:  1971.
 15-APR-1971 00 / 1408:  1971.
</b></pre><p align="left" class="callout"><b><a name="_VPID_147" id="_VPID_147"></a><b><a name="_TAX_YEARFRAC" id="_TAX_YEARFRAC"></a><a name="_VPINDEXENTRY_408" id="_VPINDEXENTRY_408"></a><a name="_VPINDEXENTRY_409" id="_VPINDEXENTRY_409"></a></b></b></p>
<p align="left"><b>TAX_YEARFRAC(A, B): Returns fraction of year of time axis coordinate values</b></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">time steps to convert</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">B</p>
</td>
<td>
<p align="left">variable with reference time axis; use region settings to restrict this to a small region (see below)</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from A</p>
</td>
</tr></tbody></table><p align="left">NOTE: The variable given for argument 2 is loaded into memory by this function, so restrict its range in X, Y, and/or Z so that it is not too large. Or, if you are getting the time steps from the variable, specify the time steps for both arguments. See also the examples in the discussion of the <a href="../appendix-a-external-functions/tax_datestring.html">TAX_DATESTRING function</a>.</p>
<p align="left"><b>[Caution:</b> <b>Previous to Ferret v6.8 only:</b> Although Ferret stores and computes with coordinate values in double-precision, argument 1 of this function is a single-precision variable. This function translates the values in argument 1 to the nearest double-precision coordinate value of the time axis of argument 2 when possible. If the truncation to single precision in an expression t[gt=var] has resulted in duplicate single-precision values the function will return an error message. See the discussion under <a href="../appendix-a-external-functions/tax_datestring.html#_TAX_single_precision">TAX_DATESTRING</a><b><b>.] </b></b>With Ferret v6.8 and after, all calculations are done in double precision and this is not a problem.</p>
<p align="left"></p>
<p align="left">Example:<b><b> </b></b></p>
<pre>
<b>yes? use "http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/COADS/coads_sst.cdf"

yes? list/L=1403:1408 tax_yearfrac(t[gt=sst], sst[i=1,j=1])
             VARIABLE : TAX_YEARFRAC(T[GT=SST], SST[K=1,J=1])
             DATA SET : COADS Surface Marine Observations (1854-1993)
             FILENAME : coads_sst.cdf
             FILEPATH : http://ferret.pmel.noaa.gov/pmel/thredds/dodsC/data/PMEL/PMEL/COADS/
             SUBSET   : 6 points (TIME)
 15-NOV-1970 00 / 1403:  0.8743
 15-DEC-1970 00 / 1404:  0.9563
 15-JAN-1971 00 / 1405:  0.0410
 15-FEB-1971 00 / 1406:  0.1257
 15-MAR-1971 00 / 1407:  0.2049
 15-APR-1971 00 / 1408:  0.2896
</b></pre><p></p>
<p class="secHeader">Chapter 3, Section 2.3 MINMAX</p>
<p><strong>MINMAX(A): Returns the minimum and maximum of the argument</strong></p>
<p></p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">A</p>
</td>
<td>
<p align="left">variable to find the extrema</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">abstract: length 2</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr><tr><td></td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">normal</p>
</td>
</tr></tbody></table><p>The result is returned on a 2-point abstract axis, with result[i=1]=min, result[i=1]=max</p>
<p>Example:</p>
<pre>
yes? let v = {1,4,56,8,12,14,,-0.5}
yes? list MINMAX(v)
             VARIABLE : MINMAX(V)
             SUBSET   : 2 points (X)
 1   / 1:  -0.50
 2   / 2:  56.00
</pre><p class="secHeader">
</p><p><strong>Chapter 3, Section 2.4 TRANSFORMATIONS</strong><a name="Chapter3-Transformations" id="Chapter3-Transformations"></a><a name="_VPID_148" id="_VPID_148"></a><a name="_VPINDEXENTRY_410" id="_VPINDEXENTRY_410"></a><a name="_VPINDEXENTRY_411" id="_VPINDEXENTRY_411"></a><a name="_VPINDEXENTRY_412" id="_VPINDEXENTRY_412"></a><a name="_VPINDEXENTRY_413" id="_VPINDEXENTRY_413"></a><a name="_VPINDEXENTRY_414" id="_VPINDEXENTRY_414"></a><a name="_VPINDEXENTRY_415" id="_VPINDEXENTRY_415"></a><a name="_VPINDEXENTRY_416" id="_VPINDEXENTRY_416"></a><a name="_VPINDEXENTRY_417" id="_VPINDEXENTRY_417"></a><a name="_VPINDEXENTRY_418" id="_VPINDEXENTRY_418"></a></p>
<p align="left">Transformations (e.g., averaging, integrating, etc.) may be specified along the axes of a variable. Some transformations (e.g., averaging, minimum, maximum) reduce a range of data to a point; others (e.g., differentiating or smoothers) retain the range.</p>
<p align="left">When transformations are specified along more than one axis of a single variable the order of execution is X axis first, then Y, Z, T, E, and F.</p>
<p align="left">The regridding transformations are described in the chapter "Grids and Regions" ).</p>
<p align="left">Example syntax: <i>TEMP[Z=0:<a href="mailto:100@LOC">100@LOC</a>:20]</i> (depth at which temp has value 20)</p>
<p align="left">Valid transformations are</p>
<table><tbody><tr><td>
<p align="left">
			<b>Transform</b></p>
</td>
<td>
<p align="center"><b>Default<br />
			Argument</b></p>
</td>
<td>
<p align="center">
			<b>Description</b></p>
</td>
</tr><tr><td></td>
<td></td>
<td></td>
</tr><tr><td>
<p align="left">@DIN</p>
</td>
<td></td>
<td>
<p align="left">definite integral (weighted sum)</p>
</td>
</tr><tr><td>
<p align="left">@IIN</p>
</td>
<td></td>
<td>
<p align="left">indefinite integral (weighted running sum)</p>
</td>
</tr><tr><td>
<p align="left">@ITP</p>
</td>
<td></td>
<td>
<p align="left">linear interpolation</p>
</td>
</tr><tr><td>
<p align="left">@AVE</p>
</td>
<td></td>
<td>
<p align="left">average</p>
</td>
</tr><tr><td>
<p align="left">@VAR</p>
</td>
<td></td>
<td>
<p align="left">unweighted variance</p>
</td>
</tr><tr><td>
<p align="left">@STD</p>
</td>
<td></td>
<td>
<p align="left">standard deviation</p>
</td>
</tr><tr><td>
<p align="left">@MIN</p>
</td>
<td></td>
<td>
<p align="left">minimum</p>
</td>
</tr><tr><td>
<p align="left">@MAX</p>
</td>
<td></td>
<td>
<p align="left">maximum</p>
</td>
</tr><tr><td>@MED</td>
<td>3 pt</td>
<td>median smoothed<br />
			</td>
</tr><tr><td>@SMN</td>
<td>3 pt</td>
<td>minimum smoothed, using min<br />
			</td>
</tr><tr><td>@SMX</td>
<td>3 pt</td>
<td>maximum smoothed, using max<br />
			</td>
</tr><tr><td>
<p align="left">@SHF</p>
</td>
<td>
<p align="center">1 pt</p>
</td>
<td>
<p align="left">shift</p>
</td>
</tr><tr><td>
<p align="left">@SBX</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">boxcar smoothed</p>
</td>
</tr><tr><td>
<p align="left">@SBN</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">binomial smoothed</p>
</td>
</tr><tr><td>
<p align="left">@SHN</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">Hanning smoothed</p>
</td>
</tr><tr><td>
<p align="left">@SPZ</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">Parzen smoothed</p>
</td>
</tr><tr><td>
<p align="left">@SWL</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">Welch smoothed</p>
</td>
</tr><tr><td>
<p align="left">@DDC</p>
</td>
<td></td>
<td>
<p align="left">centered derivative</p>
</td>
</tr><tr><td>
<p align="left">@DDF</p>
</td>
<td></td>
<td>
<p align="left">forward derivative</p>
</td>
</tr><tr><td>
<p align="left">@DDB</p>
</td>
<td></td>
<td>
<p align="left">backward derivative</p>
</td>
</tr><tr><td>
<p align="left">@NGD</p>
</td>
<td></td>
<td>
<p align="left">number of valid points</p>
</td>
</tr><tr><td>
<p align="left">@NBD</p>
</td>
<td></td>
<td>
<p align="left">number of bad (invalid) points flagged</p>
</td>
</tr><tr><td>
<p align="left">@SUM</p>
</td>
<td></td>
<td>
<p align="left">unweighted sum</p>
</td>
</tr><tr><td>
<p align="left">@RSUM</p>
</td>
<td></td>
<td>
<p align="left">running unweighted sum</p>
</td>
</tr><tr><td>
<p align="left">@FAV</p>
</td>
<td>
<p align="center">3 pt</p>
</td>
<td>
<p align="left">fill missing values with average</p>
</td>
</tr><tr><td>
<p align="left">@FLN</p>
</td>
<td>
<p align="center">1 pt</p>
</td>
<td>
<p align="left">fill missing values by linear interpolation</p>
</td>
</tr><tr><td>
<p align="left">@FNR</p>
</td>
<td>
<p align="center">1 pt</p>
</td>
<td>
<p align="left">fill missing values with nearest point</p>
</td>
</tr><tr><td>
<p align="left">@LOC</p>
</td>
<td>
<p align="center">0</p>
</td>
<td>
<p align="left">coordinate of ... (e.g., depth of 20 degrees)</p>
</td>
</tr><tr><td>
<p align="left">@WEQ</p>
</td>
<td></td>
<td>
<p align="left">"weighted equal" (integrating kernel)</p>
</td>
</tr><tr><td>
<p align="left">@CDA</p>
</td>
<td></td>
<td>
<p align="left">closest distance above</p>
</td>
</tr><tr><td>
<p align="left">@CDB</p>
</td>
<td></td>
<td>
<p align="left">closest distance below</p>
</td>
</tr><tr><td>
<p align="left">@CIA</p>
</td>
<td></td>
<td>
<p align="left">closest index above</p>
</td>
</tr><tr><td>
<p align="left">@CIB</p>
</td>
<td></td>
<td>
<p align="left">closest index below</p>
</td>
</tr></tbody></table><p align="left">The command SHOW <a name="_VPINDEXENTRY_419" id="_VPINDEXENTRY_419"></a>TRANSFORM will produce a list of currently available transformations.</p>
<p align="left">Examples: <a name="_VPINDEXENTRY_420" id="_VPINDEXENTRY_420"></a>Transformations</p>
<table><tbody><tr><td>
<p align="left"><i><b>U[Z=0:<a href="mailto:100@AVE">100@AVE</a>]</b></i></p>
</td>
<td>
<p align="left"> average of u between 0 and 100 in Z</p>
</td>
</tr><tr><td>
<p align="left"><i><b>sst[T=@SBX:10] </b></i></p>
</td>
<td>
<p align="left"> box-car smooths sst with a 10 time point filter</p>
</td>
</tr><tr><td>
<p align="left"><i><b>tau[L=1:<a href="mailto:25@DDC">25@DDC</a>]</b></i></p>
</td>
<td>
<p align="left"> centered time derivative of tau</p>
</td>
</tr><tr><td>
<p align="left"><i><b>v[L=@IIN]</b></i></p>
</td>
<td>
<p align="left"> indefinite (accumulated) integral of v</p>
</td>
</tr><tr><td>
<p align="left"><i><b>qflux[X=@AVE,Y=@AVE]</b></i></p>
</td>
<td>
<p align="left"> XY area-averaged qflux</p>
</td>
</tr></tbody></table><p align="left"></p>
<p></p>
<p class="secHeader"><a name="GeneralInfo" id="GeneralInfo"></a><b>Chapter 3, Section 2.4.1 </b></p>
<p></p>
<p align="left" class="callout"><a name="_VPINDEXENTRY_421" id="_VPINDEXENTRY_421"></a><b><a id="_VPID_149" name="_VPID_149"></a>General information about transformations </b></p>
<p align="left">Transformations are normally computed axis by axis; if multiple axes have transformations specified simultaneously (e.g., <i>U[Z=@AVE,L=@SBX:10]</i>) the transformations will be applied sequentially in the order X then Y then Z then T, E, and F. There are a few exceptions to this: if @DIN is applied simultaneously to both the X and Y axes (in units of degrees of longitude and latitude, respectively) the calculation will be carried out on a per-unit-area basis (as a true double integral) instead of a per-unit-length basis, sequentially. This ensures that the COSINE(latitude) factors will be applied correctly. The same applies to @AVE, @VAR, and @STD simultaneously on X and Y as well as @NGD and @NBD for any combination of directions on the variable's grid.</p>
<p align="left">If one of the multiple-direction transformations (AVE, DIN, VAR, STD, NGD, NBD) is specified, but the grid contains only one of those directions, the 1-dimensional transformation is computed instead. (Prior to Ferret v7.41, when one of the multi-direction transformations was requested, say an XY average, Ferret required that the grid has an x and a y axis.)  For all transformations that operate axis by axis, a transformation specified for any axis not on the grid is ignored.</p>
<p align="left">Data that are flagged as invalid are excluded from calculations.</p>
<p align="left">All integrations and averaging are accomplished by multiplying the width of each grid box or portion of the box by the value of the variable in that grid boxthen summing and dividing as appropriate for the particular transformation.</p>
<p align="left">If integration or averaging limits are given as world coordinates, the grid boxes at the edges of the region specified are weighted according to the fraction of grid box that actually lies within the specified region. If the transformation limits are given as subscripts, the full box size of each grid point along the axis is usedincluding the first and last subscript given. The region information that is listed with the output reflects this.</p>
<p align="left">Some transformations (derivatives, shifts, smoothers) require data points from beyond the edges of the indicated region in order to perform the calculation. Ferret automatically accesses this data as needed. It flags edge points as missing values if the required beyond-edge points are unavailable (e.g., @DDC applied on the X axis at I=1).</p>
<p align="left"><a name="_VPINDEXENTRY_422" id="_VPINDEXENTRY_422"></a><a name="_VPINDEXENTRY_423" id="_VPINDEXENTRY_423"></a>When calculating integrals and derivatives (@IIN, @DIN, @DDC, @DDF, and @DDB) Ferret attempts to use standardized units for the grid coordinates. If the underlying axis is in a known unit of length Ferret converts grid box lengths to meters. If the underlying axis is in a known unit of time Ferret converts grid box lengths to seconds, using the definition for the calendar of that axis. If the underlying axis is degrees of longitude a factor of COSINE (latitude) is applied to the grid box lengths in meters.</p>
<p align="left">If the underlying axis units are unknown Ferret uses those unknown units for the grid box lengths. (If Ferret does not recognize the units of an axis it displays a message to that effect when the DEFINE AXIS or SET DATA command defines the axis.) See command <a href="../commands-reference/DEFINE.html#_VPINDEXENTRY_1327">DEFINE AXIS/UNITS</a> in the Commands Reference in this manual for a list of recognized units.</p>
<p><font color="#000000">Version 7.6 includes support for Discrete Sampling Geometries (DSG) datasets, containing collections of Timeseries, Profiles, Trajectories, and Points. When transformations are applied to data from a DSG file the transformation applies only within each feature. That is, for a collection of profiles the Maximum value or Indefinite Integral or Smoothing operation or Number of valid points is computed for one profile at a time with the calculation </font>restarting on the next feature.</p>
<p class="secHeader"><b>Chapter 3, Section 2.4.2</b></p>
<p></p>
<p align="left" class="callout"><a name="_VPINDEXENTRY_425" id="_VPINDEXENTRY_425"></a><b><b><a id="_VPID_150" name="_VPID_150"></a>Transformations applied to irregular regions </b></b></p>
<p align="left">Since transformations are applied along the orthogonal axes of a grid they lend themselves naturally to application over "rectangular" regions (possibly in 3 or 4 dimensions). Ferret has sufficient flexibility, however, to perform transformations over irregular regions.</p>
<p align="left">Suppose, for example, that we wish to determine the average wind speed within an irregularly shaped region of the globe defined by a threshold sea surface temperature value. We can do this through the creation of a mask, as in this example:</p>
<pre>
<b>yes? SET DATA coads_climatology
yes? SET REGION/l=1/@t ! January in the Tropical Pacific
yes? LET sst28_mask = IF sst GT 28 THEN 1
yes? LET masked_wind_speed = wspd * sst28_mask
yes? LIST masked_wind_speed[X=@AVE,Y=@AVE]</b></pre><p align="left">The variable sst28_mask is a collection of 1's and missing values. Using it as a multiplier on the wind speed field produces a new result that is undefined except in the domain of interest.</p>
<p align="left">When using masking be aware of these considerations:</p>
<ul><li>Use undefined values rather than zeros to avoid contaminating the calculation with zero values. The above commands where sst_mask_28 is defined with no ELSE statement, automatically implies "ELSE bad".</li>
<li>If the data contains values that are exactly Zero, then "IF var" (comparison to the missing-flag for the variable) will be false when the data is missing and ALSO when its value is zero. This is because Ferret does not have a logical data type, and so zero is equivalent to FALSE. See the documentation on<a href="../commands-reference/IF.html"> the IF syntax</a>. To handle this case, you can get the missing-value for the variable and use it to define the expression.<br /><pre>
yes? LET mask = IF var NE `var,RETURN=bad` THEN 1</pre></li>
<li>The masked region is composed of rectangles at the level of resolution of the gridded variables; the mask does NOT follow smooth contour lines. To obtain a smoother mask it may be desirable to regrid the calculation to a finer grid.</li>
<li>Variables from different data sets can be used to mask one another. For example, the ETOPO60 bathymetry data set can be used to mask regions of land and sea.<b> </b></li>
<p></p>
<li></li>
</ul><p class="secHeader"><b><a name="_VPINDEXENTRY_426" id="_VPINDEXENTRY_426"></a></b><b><a id="_VPID_151" name="_VPID_151"></a></b><b>C</b><b>hapter 3,Section 2.4.3</b></p>
<p align="left" class="callout"><b><b>General information about smoothing transformations </b></b></p>
<p align="left">Ferret provides several transformations for smoothing variables (removing high frequency variability). These transformations replace each value on the grid to which they are applied with a weighted average of the surrounding data values along the axis specified. For example, the expression u[T=@SPZ:3] replaces the value at each (I,J,K,L) grid point of the variable "u" with the weighted average</p>
<pre>
<b>u at t = 0.25*(u at t-1) + 0.5*(u at t) + 0.25*(u at t+1)</b></pre><p align="left">The various choices of smoothing transformations (@SBX, @SBN, @SPZ, @SHN, @SWL) represent different shapes of weighting functions or "windows" with which the original variable is convolved. New window functions can be obtained by nesting the simple ones provided. For example, using the definitions</p>
<pre>
<b>yes? LET ubox = u[L=@SBX:15]
yes? LET utaper = ubox[L=@SHN:7]</b></pre><p align="left">produces a 21-point window whose shape is a boxcar (constant weight) with COSINE (Hanning) tapers at each end.</p>
<p align="left"><a name="_VPINDEXENTRY_427" id="_VPINDEXENTRY_427"></a>Ferret may be used to directly examine the shape of any smoothing window: Mathematically, the shape of the smoothing window can be recovered as a variable by convolving it with a delta function. In the example below we examine (PLOT) the shape of a 15-point Welch window (Figure 3_4).</p>
<p><b><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig04.gif"><img alt="Ch3_fig04" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig04.gif" width="200" /></a> </b></p>
<pre>
<b>! define X axis as [-1,1] by 0.2
yes? GO unit_square
yes? SET REGION/X=-1:1
yes? LET delta = 
IF X EQ 0 THEN 1 ELSE 0
! convolve delta with Welch window
yes? PLOT delta[I=@SWL:15]</b></pre><p></p>
<p></p>
<p class="secHeader"><b>Chapter 3, Section 2.4.4</b></p>
<p><a name="_VPINDEXENTRY_429" id="_VPINDEXENTRY_429"></a></p>
<p><a name="_VPINDEXENTRY_432" id="_VPINDEXENTRY_432"></a><b><b><a name="_VPINDEXENTRY_430" id="_VPINDEXENTRY_430"></a></b></b><b><b><a id="_VPID_152" name="_VPID_152"></a></b></b><a name="_VPINDEXENTRY_431" id="_VPINDEXENTRY_431"></a></p>
<p align="left" class="callout"><b><b>@DIN</b></b><b><b>definite integral </b></b></p>
<p align="left">The transformation @DIN computes the definite integrala single value that is the integral between two points along an axis (compare with @IIN). It is obtained as the sum of the grid_box*variable product at each grid point. Grid points at the ends of the indicated range are weighted by the fraction of the grid box that falls within the integration interval.</p>
<p align="left">If @DIN is specified simultaneously on multiple axes the calculation will be performed as a multiple integration rather than as sequential single integrations. The output will document this fact by indicating a transformation of "@IN4" or "XY integ." See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation. (In particular note that when the limits are given in index values, the transformation includes the entire interval of both endpoints; if it is given in world coordinates, it uses partial grid cells out to those world limits.)</p>
<p align="left">Example:</p>
<pre>
yes? CONTOUR/X=160E:160W/Y=5S:5N u[Z=0:50@DIN]</pre><p align="left">In a latitude/longitude coordinate system X=@DIN is sensitive to the COS(latitude) correction.</p>
<p align="left">Integration over complex regions in space may be achieved by masking the multi-dimensional variable in question and using the multi-dimensional form of @DIN. For example</p>
<p class="indented"><i>yes? LET salinity_where_temp_gt_15 = IF temp GT 15 THEN salt<br />
yes? LIST salinity_where_temp_gt_15[X=@DIN,Y=@DIN,Z=@DIN]</i></p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.5</p>
<p></p>
<p align="left" class="callout"><a name="_VPID_153" id="_VPID_153"></a><a name="_VPINDEXENTRY_433" id="_VPINDEXENTRY_433"></a><a name="_VPINDEXENTRY_434" id="_VPINDEXENTRY_434"></a><a name="_VPINDEXENTRY_435" id="_VPINDEXENTRY_435"></a><a name="_VPINDEXENTRY_436" id="_VPINDEXENTRY_436"></a><a name="_VPINDEXENTRY_437" id="_VPINDEXENTRY_437"></a>@IINindefinite integral</p>
<p align="left">The transformation @IIN computes the indefinite integralat each subscript of the result it is the value of the integral from the start value to the upper edge of that grid box. It is obtained as a running sum of the grid_box*variable product at each grid point. Grid points at the ends of the indicated range are weighted by the fraction of the grid box that falls within the integration interval. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">In particular, it's important to pay attention to how the limits are specified. If the limits of integration are given as world coordinates (var[X=10:<a href="mailto:22@IIN">22@IIN</a>]), the grid boxes at the edges of the region specified are weighted according to the fraction of grid box that actually lies within the specified region. If the transformation limits are given as subscripts (var[I=1:<a href="mailto:13@IIN">13@IIN</a>]), then the full box size of each grid point along the axis is usedincluding the first and last subscript given.</p>
<p align="left">Example:</p>
<pre>
yes? CONTOUR/X=160E:160W/Z=0 u[Y=5S:5N@IIN]</pre><p align="left">Note 1: The indefinite integral is always computed in the increasing coordinate direction. To compute the indefinite integral in the reverse direction use</p>
<pre>
LET reverse_integral = my_var[X=lo:hi@DIN] - my_var[X=lo:hi@IIN]</pre><p align="left">Note 2: In a latitude/longitude coordinate system X=@IIN is sensitive to the COS(latitude) correction.</p>
<p align="left">Note 3: The result of the indefinite integral is shifted by 1/2 of a grid cell from its "proper" location. This is because the result at each grid cell includes the integral computed to the upper end of that cell. (This was necessary in order that var[I=lo:<a href="mailto:hi@DIN">hi@DIN</a>] and var[I=lo:<a href="mailto:hi@IIN">hi@IIN</a>] produce consistent results.)</p>
<p align="left">To illustrate, consider these commands</p>
<pre>
yes? LET one = x-x+1
yes? LIST/I=1:3 one[I=@din]
X-X+1
X: 0.5 to 3.5 (integrated)
3.000
yes? LIST/I=1:3 one[I=@iin]
X-X+1
indef. integ. on X
1 / 1: 1.000
2 / 2: 2.000
3 / 3: 3.000</pre><p align="left">The grid cell at I=1 extends from 0.5 to 1.5. The value of the integral at 1.5 is 1.000 as reported but the coordinate listed for this value is 1 rather than 1.5. Two methods are available to correct for this 1/2 grid cell shift.</p>
<p align="left">Method 1: correct the result by subtracting the 1/2 grid cell error</p>
<pre>
yes? LIST/I=1:3 one[I=@iin] - one/2
ONE[I=@IIN] - ONE/2
1 / 1: 0.500
2 / 2: 1.500
3 / 3: 2.500</pre><p align="left">Method 2: correct the coordinates by shifting the axis 1/2 of a grid cell</p>
<pre>
yes? DEFINE AXIS/X=1.5:3.5:1 xshift
yes? LET SHIFTED_INTEGRAL = one[I=@IIN]
yes? LET corrected_integral = shifted_integral[GX=xshift@ASN]
yes? LIST/I=1:3 corrected_integral
SHIFTED_INTEGRAL[GX=XSHIFT@ASN]
1.5 / 1: 1.000
2.5 / 2: 2.000
3.5 / 3: 3.000</pre><p>Method 3: Use the @IIN regridding transformation (new in Ferret v7.4.2). When the destination axis for the regridding is the same as the source axis, The result of that transformation is 0 at the bottom of the first grid cell, and is equal to the definite integral at the top of the uppermost grid cell.</p>
<pre>
yes? define axis/x=1:3:1 x3ax
yes? let ones = one[gx=x3ax@asn]

! the transformation@IIN
yes? LIST ones[I=@iin]
             VARIABLE : ONE[GX=X3AX@ASN]
                        indef. integ. on X
             SUBSET   : 3 points (X)
 1   / 1:  1.000
 2   / 2:  2.000
 3   / 3:  3.000

! The regridding transformation, regrid to the source axis.
yes? LIST ones[gx=x3ax@iin]
             VARIABLE : ONE[GX=X3AX@ASN]
                        regrid: 1 delta on X@IIN
             SUBSET   : 3 points (X)
 1   / 1:  0.500
 2   / 2:  1.500
 3   / 3:  2.500</pre><p></p>
<p class="secHeader">Chapter 3, Section 2.4.6</p>
<p></p>
<p></p>
<p align="left" class="callout"><a name="_VPID_154" id="_VPID_154"></a><a name="_VPINDEXENTRY_438" id="_VPINDEXENTRY_438"></a><a name="_VPINDEXENTRY_439" id="_VPINDEXENTRY_439"></a><a name="_VPINDEXENTRY_440" id="_VPINDEXENTRY_440"></a>@AVEaverage</p>
<p align="left">The transformation @AVE computes the average weighted by grid box sizea single number representing the average of the variable between two endpoints.</p>
<p align="left">If @AVE is specified simultaneously on multiple axes the calculation will be performed as a multiple integration rather than as sequential single integrations. The output will document this fact by showing @AV4 or "XY ave" as the transformation.</p>
<p align="left">See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation. In particular, note the discussion about specifying the averaging interval in world coordinates, e.g. longitude, meters, time as in var[x=3.4:<a href="mailto:4.6@AVE">4.6@AVE</a>] versus specifying the interval using indices, as in var[I=4:<a href="mailto:12@AVE">12@AVE</a>]. When the interval is expressed in world coordinates, the weighting is done using partial grid boxes at the edges of the interval. If the interval is expressed using indices, the entire grid cells contribute to the weights.</p>
<p align="left">The<a href="XPRESSIONS.html#_wgt_trans"> @WGT</a> transformation returns the weights used by @AVE</p>
<p align="left">Example:</p>
<pre>
yes? CONTOUR/X=160E:160W/Y=5S:5N u[Z=0:50@AVE]</pre><p align="left">Note that the unweighted mean can be calculated using the @SUM and @NGD transformations.</p>
<p align="left"><a name="_VPINDEXENTRY_441" id="_VPINDEXENTRY_441"></a>Averaging over complex regions in space may be achieved by masking the multi-dimensional variable in question and using the multi-dimensional form of @AVE. For example</p>
<pre>
yes? LET salinity_where_temp_gt_15 = IF temp GT 15 THEN salt
yes? LIST salinity_where_temp_gt_15[X=@AVE,Y=@AVE,Z=@AVE]</pre><p align="left">When we use var[x=@AVE] Ferret averages over the grid points of the variable along the X axis, using any region in X that is in place. IF a specified range is given X=x1:<a href="mailto:x2@ave">x2@ave</a>, then Ferret uses portions of grid cells to average over that exact region.</p>
<pre>
yes? USE coads_climatology
yes? LIST/L=1/Y=45 sst[x=301:305@AVE]
VARIABLE : SEA SURFACE TEMPERATURE (Deg C)
LONGITUDE: 59W to 55W (averaged)
LATITUDE : 45N
TIME : 16-JAN 06:00
2.6557

yes? LET var = sst[x=301:305]
yes? LIST/L=1/Y=45 var
VARIABLE : SST[X=301:305]
SUBSET : 3 points (LONGITUDE)
LATITUDE : 45N
TIME : 16-JAN 06:00
45N 
59W / 141: 2.231
57W / 142: 2.604
55W / 143: 3.183

yes? LIST/L=1/Y=45 var[x=@AVE]
VARIABLE : SST[X=301:305]
LONGITUDE: 60W to 54W (averaged)
LATITUDE : 45N
TIME : 16-JAN 06:00
2.6730</pre><p align="left">The last average is taken not from a specific X to another specific X, but over all grid cells in the range where the variable var is defined. Note in each listing the LONGITUDE range of the average.</p>
<p class="secHeader">Chapter 3, Section 2.4.7</p>
<p><a name="_VPID_155" id="_VPID_155"></a><a name="_VPINDEXENTRY_442" id="_VPINDEXENTRY_442"></a><a name="_VPINDEXENTRY_446" id="_VPINDEXENTRY_446"></a><a name="_VPINDEXENTRY_443" id="_VPINDEXENTRY_443"></a><a name="_VPINDEXENTRY_444" id="_VPINDEXENTRY_444"></a><a name="_VPINDEXENTRY_445" id="_VPINDEXENTRY_445"></a></p>
<p align="left" class="callout">@VAR<span style="color: rgb(204, 153, 51); font-weight: 700;">w</span><span style="color: rgb(204, 153, 51); font-weight: 700;">eighted</span>variance</p>
<p align="left">The transformation @VAR computes the weighted variance of the variable with respect to the indicated region (ref. <i>Numerical Recipes, The Art of Scientific Computing,</i> by William H. Press <i>et al.</i>, 1986).</p>
<p align="left">As with @AVE, if @VAR is applied simultaneously to multiple axes the calculation is performed as the variance of a block of data rather than as nested 1-dimensional variances. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.7A</p>
<p><a name="_std_trans" id="_std_trans"></a></p>
<p align="left" class="callout">STDweighted standard deviation</p>
<p align="left">The transformation @STD computes the weighted standard deviation of the variable with respect to the indicated region (ref. <i>Numerical Recipes, The Art of Scientific Computing,</i> by William H. Press <i>et al.</i>, 1986).</p>
<p align="left">As with @AVE, if @STD is applied simultaneously to multiple axes the calculation is performed as the standard deviation of a block of data rather than as nested 1-dimensional standard deviation computations. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader"><b>Chapter 3, Section 2.4.8</b></p>
<p align="left"><b><a name="_VPINDEXENTRY_450" id="_VPINDEXENTRY_450"></a></b><b><b><a name="_VPINDEXENTRY_451" id="_VPINDEXENTRY_451"></a></b></b><b><b><a name="_VPID_156" id="_VPID_156"></a></b></b></p>
<p align="left" class="callout"><b><b><b><b>@MINminimum </b></b></b></b></p>
<p align="left">The transformation @MIN finds the minimum value of the variable within the specified axis range. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p align="left"><b><b><b><b><b>Example</b>:</b></b></b></b></p>
<p align="left">For fixed Z and Y</p>
<pre>
<b><b><b>yes? PLOT/T="1-JAN-1982":"1-JAN-1983" temp[X=160E:160W@MIN]</b></b></b></pre><p align="left">plots a time series of the minimum temperature found between longitudes 160 east and 160 west.</p>
<p></p>
<p class="secHeader"><b><b><b><b>Chapter 3, Section 2.4.9</b></b></b></b></p>
<p><b><b><a name="_VPID_157" id="_VPID_157"></a><a name="_VPINDEXENTRY_452" id="_VPINDEXENTRY_452"></a><a name="_VPINDEXENTRY_454" id="_VPINDEXENTRY_454"></a></b></b></p>
<p align="left" class="callout"><b><b><b>@MAXmaximum</b></b></b></p>
<p align="left">The transformation @MAX finds the maximum value of the variable within the specified axis range. See also @MIN. See the <a href="XPRESSIONS.html#GeneralInfo">General Information</a> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader"><b><b><b>Chapter 3, Section 2.4.10</b></b></b></p>
<p></p>
<p align="left"><b><b><b><a name="_VPINDEXENTRY_456" id="_VPINDEXENTRY_456"></a><a name="_VPID_158" id="_VPID_158"></a></b></b></b></p>
<p align="left" class="callout"><b><b><b>@SHF:nshift</b></b></b></p>
<p align="left">The transformation @SHF shifts the data up or down in subscript by the number of points given as the argument. The default is to shift by 1 point. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p align="left"><b><b><b>Examples:</b></b></b></p>
<p align="left"><b><b><b><i>U[L=@SHF:2] </i></b></b></b></p>
<p align="left">associates the value of U[L=3] with the subscript L=1.</p>
<p align="left"></p>
<p align="left"><b><b><b><i>U[L=@SHF:1]-U</i></b></b></b></p>
<p align="left">gives the forward difference of the variable U along the L axis.</p>
<p></p>
<p class="secHeader"><b><b><b>Chapter 3, Section 2.4.11</b></b></b></p>
<p></p>
<p align="left"><b><b><b><a name="_VPINDEXENTRY_460" id="_VPINDEXENTRY_460"></a><a id="_VPID_159" name="_VPID_159"></a></b></b></b></p>
<p align="left" class="callout"><b><b><b>@SBX:nboxcar smoother</b></b></b></p>
<p align="left">The transformation @SBX applies a boxcar window (running mean) to smooth the variable along the indicated axis. The width of the boxcar is the number of points given as an argument to the transformation. The default width is 3 points. All points are weighted equally, regardless of the sizes of the grid boxes, making this transformation best suited to axes with equally spaced points. If the number of points specified is even, however, @SBX weights the end points of the boxcar smoother as . See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p align="left"><b><b><b>Example:</b></b></b></p>
<pre>
<b><b><b>yes? PLOT/X=160W/Y=0 u[L=1:120@SBX:5]</b></b></b></pre><p align="left">The transformation @SBX does not reduce the number of points along the axis; it replaces each of the original values with the average of its surrounding points. Regridding can be used to reduce the number of points.</p>
<p></p>
<p class="secHeader"><b><b><b>Chapter 3, Section 2.4.12</b></b></b></p>
<p></p>
<p align="left"><b><b><b><a name="_VPINDEXENTRY_464" id="_VPINDEXENTRY_464"></a><a name="_VPD_160" id="_VPD_160"></a><a id="_VPID_160" name="_VPID_160"></a></b></b></b></p>
<p align="left" class="callout">@SBN:nbinomial smoother</p>
<p align="left">The transformation @SBN applies a binomial window to smooth the variable along the indicated axis. The width of the smoother is the number of points given as an argument to the transformation. The default width is 3 points. The weights are applied without regard to the widths of the grid boxes, making this transformation best suited to axes with equally spaced points. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p align="left"><b><b><b>Example:</b></b></b></p>
<pre>
<b><b><b>yes? PLOT/X=160W/Y=0/Z=0 u[L=1:120@SBN:15]</b></b></b></pre><p align="left">The transformation @SBN does not reduce the number of points along the axis; it replaces each of the original values with a weighted sum of its surrounding points. Regridding can be used to reduce the number of points. The argument specified with @SBN, the number of points in the smoothing window, must be an odd value; an even value would result in an effective shift of the data along its axis.</p>
<p></p>
<p class="secHeader"><b><b><b>Chapter 3, Section 2.4.13</b></b></b></p>
<p><b><b><b><a name="_VPINDEXENTRY_468" id="_VPINDEXENTRY_468"></a></b></b></b><b><a id="_VPID_161" name="_VPID_161"></a></b><b><a name="_VPINDEXENTRY_470" id="_VPINDEXENTRY_470"></a></b></p>
<p align="left" class="callout"><b><b><b>@SHN:nHanning smoother</b></b></b></p>
<p align="left">Transformation @SHN applies a Hanning window to smooth the variable along the indicated axis (ref. <i>Numerical Recipes, The Art of Scientific Computing</i>, by William H. Press <i>et al.</i>, 1986). In other respects it is identical in function to the @SBN transformation. Note that the Hanning window used by Ferret contains only non-zero weight values with the window width.The default width is 3 points. Some interpretations of this window function include zero weights at the end points. Use an argument of N-2 to achieve this effect (e.g., @SBX:5 is equivalent to a 7-point Hanning window which has zeros as its first and last weights). See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p class="secHeader">Chapter 3, Section 2.4.14</p>
<p><a name="_VPINDEXENTRY_472" id="_VPINDEXENTRY_472"></a></p>
<p align="left"><a name="_VPINDEXENTRY_474" id="_VPINDEXENTRY_474"></a><a name="_VPD_162" id="_VPD_162"></a></p>
<p align="left" class="callout">@SPZ:nParzen smoother</p>
<p align="left">Transformation @SPZ applies a Parzen window to smooth the variable along the indicated axis (ref. <i>Numerical Recipes, The Art of Scientific Computing</i>, by William H. Press <i>et al.</i>, 1986). In other respects it is identical in function to the @SBN transformation. The default window width is 3 points. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p class="secHeader">Chapter 3, Section 2.4.15</p>
<p align="left"><a name="_VPINDEXENTRY_476" id="_VPINDEXENTRY_476"></a><a name="_VPD_163" id="_VPD_163"></a><a id="_VPID_163" name="_VPID_163"></a></p>
<p align="left" class="callout">@SWL:nWelch smoother</p>
<p align="left">Transformation @SWL applies a Welch window to smooth the variable along the indicated axis (ref. <i>Numerical Recipes, The Art of Scientific Computing</i>, by William H. Press <i>et al.</i>, 1986). In other respects it is identical in function to the @SBN transformation. The default window width is 3 points. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p class="secHeader">Chapter 3, Section 2.4.16</p>
<p align="left"><a name="_VPINDEXENTRY_482" id="_VPINDEXENTRY_482"></a><a name="_VPINDEXENTRY_484" id="_VPINDEXENTRY_484"></a><a name="_VPD_164" id="_VPD_164"></a><a id="_VPID_164" name="_VPID_164"></a></p>
<p align="left" class="callout">@DDCcentered derivative</p>
<p align="left">The transformation @DDC computes the derivative with respect to the indicated axis using a centered differencing scheme. The units of the underlying axis are treated as they are with integrations. If the points of the axis are unequally spaced, note that the calculation used is still (F<sub>i+1</sub>  F<sub>i1</sub>) / (X<sub>i+1</sub>  X<sub>i1</sub>) . See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Example:</p>
<pre>
yes? PLOT/X=160W/Y=0/Z=0 u[L=1:120@DDC]</pre><p></p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.17</p>
<p></p>
<p></p>
<p><a name="_VPID_165" id="_VPID_165"></a><a name="_VPINDEXENTRY_485" id="_VPINDEXENTRY_485"></a> <a name="_VPINDEXENTRY_486" id="_VPINDEXENTRY_486"></a> <a name="_VPINDEXENTRY_489" id="_VPINDEXENTRY_489"></a> <a name="_VPINDEXENTRY_487" id="_VPINDEXENTRY_487"></a> <a name="_VPINDEXENTRY_488" id="_VPINDEXENTRY_488"></a></p>
<p align="left" class="callout">@DDFforward derivative</p>
<p align="left">The transformation @DDF computes the derivative with respect to the indicated axis. A forward differencing scheme is used. The units of the underlying axis are treated as they are with integrations. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Example:</p>
<pre>
yes? PLOT/X=160W/Y=0/Z=0 u[L=1:120@DDF]</pre><p></p>
<p></p>
<p class="secHeader">Chapter 3 Section 2.4.18</p>
<p align="left"><a name="_VPINDEXENTRY_492" id="_VPINDEXENTRY_492"></a><a name="_VPINDEXENTRY_493" id="_VPINDEXENTRY_493"></a><a name="_VPD_166" id="_VPD_166"></a><a id="_VPID_166" name="_VPID_166"></a></p>
<p align="left" class="callout">@DDBbackward derivative</p>
<p align="left">The transformation @DDF computes the derivative with respect to the indicated axis. A backward differencing scheme is used. The units of the underlying axis are treated as they are with integrations. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Example:</p>
<pre>
yes? PLOT/X=160W/Y=0/Z=0 u[L=1:120@DDB]</pre><p></p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.19</p>
<p></p>
<p></p>
<p align="left"><a name="_VPINDEXENTRY_494" id="_VPINDEXENTRY_494"></a><a name="_VPID_167" id="_VPID_167"></a></p>
<p align="left" class="callout">@NGDnumber of good points</p>
<p align="left">The transformation @NGD computes the number of good (valid) points of the variable with respect to the indicated axis. Use @NGD in combination with @SUM to determine the number of good points in a multi-dimensional region.</p>
<p align="left">This transformation may be applied to string variables; if there are null strings in the variable those are treated as missing.</p>
<p align="left">Note that, as with @AVE, when @NGD is applied simultaneously to multiple axes the calculation is applied to the entire block of values rather than to the individual axes. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.20</p>
<p></p>
<p align="left" class="callout"><a name="_VPINDEXENTRY_501" id="_VPINDEXENTRY_501"></a><a name="_VPID_168" id="_VPID_168"></a><a name="_VPINDEXENTRY_498" id="_VPINDEXENTRY_498"></a><a name="_VPINDEXENTRY_499" id="_VPINDEXENTRY_499"></a><a name="_VPINDEXENTRY_500" id="_VPINDEXENTRY_500"></a>@NBDnumber of bad points</p>
<p align="left">The transformation @NBD computes the number of bad (invalid) points of the variable with respect to the indicated axis. Use @NBD in combination with @SUM to determine the number of bad points in a multi-dimensional region.</p>
<p align="left">This transformation may be applied to string variables; if there are null strings in the variable those are treated as missing.</p>
<p align="left">Note that, as with @AVE, when @NBD is applied simultaneously to multiple axes the calculation is applied to the entire block of values rather than to the individual axes. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.21</p>
<p><a name="_VPINDEXENTRY_503" id="_VPINDEXENTRY_503"></a><a name="_VPID_169" id="_VPID_169"></a><a name="_VPINDEXENTRY_506" id="_VPINDEXENTRY_506"></a><a name="_VPINDEXENTRY_505" id="_VPINDEXENTRY_505"></a></p>
<p align="left" class="callout">@SUMunweighted sum</p>
<p align="left">The transformation @SUM computes the unweighted sum (arithmetic sum) of the variable with respect to the indicated axis. This transformation is most appropriate for regions specified by subscript. If the region is specified in world coordinates, the edge points are <i>not</i> weightedthey are wholly included in or excluded from the calculation, depending on the location of the grid points with respect to the specified limits. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p>Note that when @SUM is applied simultaneously to multiple axes the calculation is applied to the entire block of values rather than to the individual axes. The output will document this fact by showing "XY sum" as the transformation.</p>
<p class="secHeader">Chapter 3, Section 2.4.22</p>
<p><a name="_VPINDEXENTRY_510" id="_VPINDEXENTRY_510"></a><a name="_VPINDEXENTRY_507" id="_VPINDEXENTRY_507"></a><a name="_VPID_170" id="_VPID_170"></a><a name="_VPINDEXENTRY_511" id="_VPINDEXENTRY_511"></a></p>
<p align="left" class="callout">@RSUMrunning unweighted sum</p>
<p align="left">The transformation @RSUM computes the running unweighted sum of the variable with respect to the indicated axis. @RSUM is to @IIN as @SUM is to @DIN. The treatment of edge points is identical to @SUM. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.23</p>
<p><a name="_VPINDEXENTRY_514" id="_VPINDEXENTRY_514"></a><a name="_VPID_171" id="_VPID_171"></a><a name="_VPINDEXENTRY_516" id="_VPINDEXENTRY_516"></a></p>
<p align="left" class="callout">@FAV:naveraging filler</p>
<p align="left">The transformation @FAV fills holes (values flagged as invalid) in variables with the average value of the surrounding grid points along the indicated axis. The width of the averaging window is the number of points given as an argument to the transformation. The default is n=3. If an even value of n is specified, Ferret uses n+1 so that the average is centered. All of the surrounding points are weighted equally, regardless of the sizes of the grid boxes, making this transformation best suited to axes with equally spaced points. If any of the surrounding points are invalid they are omitted from the calculation. If all of the surrounding points are invalid the hole is not filled. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left"><b><b><b><b><b><b>Example: </b></b></b></b></b></b></p>
<pre>
<b><b><b><b><b>yes? CONTOUR/X=160W:160E/Y=5S:0 u[X=@FAV:5]</b></b></b></b></b></pre><p></p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.24</b></b></b></b></b></p>
<p><a name="_VPINDEXENTRY_519" id="_VPINDEXENTRY_519"></a><a name="_VPID_172" id="_VPID_172"></a><a name="_VPINDEXENTRY_521" id="_VPINDEXENTRY_521"></a></p>
<p align="left" class="callout"><b><b><b><b><b><b>@FLN:nlinear interpolation filler </b></b></b></b></b></b></p>
<p align="left">The transformation @FLN:n fills holes in variables with a linear interpolation from the nearest non-missing surrounding point. n specifies the number of points beyond the edge of the indicated axis limits to include in the search for interpolants (default n = 1). Note that this does not mean it looks only n points beyond the edges of interior gaps, but only that it looks n points beyond the limits given in the espression. Unlike @FAV, @FLN is sensitive to unevenly spaced points and computes its linear interpolation based on the world coordinate locations of grid points.</p>
<p align="left">Any gap of missing values that has a valid data point on each end will be filled, regardless of the length of the gap. However, when a sub-region from the full span of the data is requested sometimes a fillable gap crosses the border of the requested region. In this case the valid data point from which interpolation should be computed is not available. The parameter n tells Ferret how far beyond the border of the requested region to look for a valid data point. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Example: To allow data to be filled only when gaps in i are less than 15 points, use the @CIA and @CIB transformations which return the distance from the nearest valid point.</p>
<pre>
yes? USE my_data
yes? LET allowed_gap = 15
yes? LET gap_size = my_var[i=@cia] + my_var[i=@cib]
yes? LET gap_mask = IF gap_size LE gap_allowed THEN 1
yes? LET my_answer = my_var[i=@fln) * gap_mask</pre><p>Example: Showing the effect of the argument n</p>
<pre>
yes? let var = {1,,,,2,,,,6}
yes? list var
             VARIABLE : {1,,,,2,,,,6}
             SUBSET   : 9 points (X)
 1   / 1:  1.000
 2   / 2:   ....
 3   / 3:   ....
 4   / 4:   ....
 5   / 5:  2.000
 6   / 6:   ....
 7   / 7:   ....
 8   / 8:   ....
 9   / 9:  6.000

yes? ! x=3:9@fln:1  says look only one point beyond the requested limits of x=3:9 when filling

yes? list var[x=3:9@fln:1]
             VARIABLE : {1,,,,2,,,,6}
                        linear-filled by 1 pts on X
             SUBSET   : 7 points (X)
 3   / 3:   ....
 4   / 4:   ....
 5   / 5:  2.000
 6   / 6:  3.000
 7   / 7:  4.000
 8   / 8:  5.000
 9   / 9:  6.000

yes? ! x=3:9@fln:5  says look within 5 grid cells beyond the requested limits of x=3:9 when filling

yes? list var[x=3:9@fln:5]
             VARIABLE : {1,,,,2,,,,6}
                        linear-filled by 5 pts on X
             SUBSET   : 7 points (X)
 3   / 3:  1.500
 4   / 4:  1.750
 5   / 5:  2.000
 6   / 6:  3.000
 7   / 7:  4.000
 8   / 8:  5.000
 9   / 9:  6.000
</pre><p></p>
<p class="secHeader">Ch3 Sec2.4.25</p>
<p><a name="_VPINDEXENTRY_523" id="_VPINDEXENTRY_523"></a><a name="_VPID_173" id="_VPID_173"></a><a name="_VPINDEXENTRY_526" id="_VPINDEXENTRY_526"></a></p>
<p align="left" class="callout">@FNRnearest neighbor filler</p>
<p align="left">The transformation @FNR is similar to @FLN, except that it replicates the nearest point to the missing value. In the case of points being equally spaced around the missing point, the mean value is used. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">If an argument is given, var[X=30:<a href="mailto:34@FNR">34@FNR</a>:2] then the transformation will return data from only within that index range around the given location, here 2 index values below x=30 to 2 index values above x=34. However if the expression is given without a range of coordinates or indices to return, e.g. LET filled_var = var[X=@FNR] then any argument after @FNR will be ignored. The result will be filled with the nearest value no matter what distance it is from the missing data.</p>
<p align="left">Note that as is the case with most transformations, @FNR operates in one direction at a time, so that when var[x=@FNR,y=@FNR] iks evaluated, var is filled first in X and then that result is filled in Y. The function <strong><a href="../appendix-a-external-functions/fill_xy.html">FILL_XY</a></strong> will often be a better option when doing a 2-D fill operation in X and Y.</p>
<p></p>
<p class="secHeader">Chapter 3, Section 2.4.26 <a name="_VPID_174" id="_VPID_174"></a> <a name="_VPINDEXENTRY_527" id="_VPINDEXENTRY_527"></a><a name="_VPINDEXENTRY_528" id="_VPINDEXENTRY_528"></a><a name="_VPINDEXENTRY_529" id="_VPINDEXENTRY_529"></a><a name="_VPINDEXENTRY_530" id="_VPINDEXENTRY_530"></a><a name="_VPINDEXENTRY_531" id="_VPINDEXENTRY_531"></a></p>
<p></p>
<p align="left" class="callout">@LOClocation of</p>
<p align="left">The transformation @LOC accepts an argument valuethe default value is zero if no argument is specified. The transformation @LOC finds the single location at which the variable first assumes the value of the argument. The result is in units of the underlying axis. Linear interpolation is used to compute locations between grid points. If the variable does not assume the value of the argument within the specified region the @LOC transformation returns an invalid data flag. See also the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_550">@EVNT</a>, the "event mask" transformation.</p>
<p align="left">For example, temp[Z=0:<a href="mailto:200@LOC">200@LOC</a>:18] finds the location along the Z axis (often depth in meters) at which the variable "temp" (often temperature) first assumes the value 18, starting at Z=0 and searching to Z=200. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<pre>
yes? CONTOUR/X=160E:160W/Y=10S:10N temp[Z=0:200@LOC:18]</pre><p align="left">produces a map of the depth of the 18-degree isotherm. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Note that the transformation @LOC can be used to locate non-constant values, too, as the following example illustrates:</p>
<p align="left">Example: locating non-constant values</p>
<p align="left">Determine the depth of maximum salinity.</p>
<pre>
yes? LET max_salt = salt[Z=@MAX]
yes? LET zero_at_max = salt - max_salt
yes? LET depth_of_max = zero_at_max[Z=@LOC:0]</pre><p></p>
<p class="secHeader">Chapter 3, Section 2.4.27</p>
<p></p>
<p align="left" class="callout"><a name="_VPID_175" id="_VPID_175"></a><a name="_VPINDEXENTRY_532" id="_VPINDEXENTRY_532"></a><a name="_VPINDEXENTRY_533" id="_VPINDEXENTRY_533"></a><a name="_VPINDEXENTRY_534" id="_VPINDEXENTRY_534"></a>@WEQweighted equal; integration kernel</p>
<p align="left">The @WEQ <a name="_VPINDEXENTRY_535" id="_VPINDEXENTRY_535"></a>("weighted equal") transformation is the subtlest and arguably the most powerful transformation within Ferret. It is a generalized version of @LOC; @LOC always determines the value of the axis coordinate (the variable X, Y, Z, or T) at the points where the gridded field has a particular value. More generally, @WEQ can be used to determine the value of <i>any</i> variable at those points. See also the discussion of <a href="XPRESSIONS.html#_VPINDEXENTRY_550">@EVNT</a>, the "event mask" transformation. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left">Like @LOC, the transformation @WEQ finds the location along a given axis at which the variable is equal to the given (or default) argument. For example, V1[Z=@WEQ:5] finds the Z locations at which V1 equals "5". But whereas @LOC returns a single value (the linearly interpolated axis coordinate values at the locations of equality) @WEQ returns instead a field of the same size as the original variable. For those two grid points that immediately bracket the location of the argument, @WEQ returns interpolation coefficients. For all other points it returns missing value flags. If the value is found to lie identically on top of a grid point an interpolation coefficient of 1 is returned for that point alone. The default argument value is 0.0 if no argument is specified.</p>
<p align="left">Example 1</p>
<pre>
yes? LET v1 = X/4
yes? LIST/X=1:6 v1, v1[X=@WEQ:1], v1[X=@WEQ:1.2] 
             X: 1 to 6
 Column  1: V1 is X/4
 Column  2: V1[X=@WEQ:1] is X/4 (weighted equal of 1 on X)
 Column  3: V1[X=@WEQ: 1.200] is X/4 (weighted equal of 1.2 on X)
            V1    V1      V1
1   / 1:  0.250   ....    ....
2   / 2:  0.500   ....    ....
3   / 3:  0.750   ....    ....
4   / 4:  1.000  1.000  0.2000
5   / 5:  1.250   ....  0.8000
6   / 6:  1.500   ....    ....

</pre><p align="left">The resulting field can be used as an "integrating kernel," a weighting function that when multiplied by another field and summed will give the value of that new field at the desired location.</p>
<p align="left">Example 2</p>
<p align="left">Using variable v1 from the previous example, suppose we wish to know the value of the function X^2 (X squared) at the location where variable v1 has the value 1.2. We can determine it as follows:</p>
<pre>
yes? LET x_squared = X^2
yes? LET integrand = x_squared * v1[X=@WEQ:1.2]
yes? LIST/X=1:6 integrand[X=@SUM] !Ferret output below
             VARIABLE : X_SQUARED * V1[X=@WEQ:1.2]
             X        : 1 to 6 (summed)
          23.20</pre><p align="left">Notice that 23.20 = 0.8 * (5^2) + 0.2 * (4^2)</p>
<p align="left">Below are two "real world" examples that produce fully labeled plots.</p>
<p align="left">Example 3: salinity on an isotherm</p>
<p align="left">Use the Levitus climatology to contour the salinity of the Pacific Ocean along the 20-degree isotherm (Figure 3_5).</p>
<p><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig05.gif"><img alt="Ch3_fig05" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig05.gif" width="200" /></a></p>
<pre>
<b><b><b><b><b>yes? SET DATA levitus_climatology ! annual sub-surface climatology
yes? SET REGION/X=100E:50W/Y=45S:45N ! Pacific Ocean
yes? LET isotherm_20 = temp[Z=@WEQ:20] ! depth kernel for 20 degrees
yes? LET integrand_20 = salt * isotherm_20
yes? SET VARIABLE/TITLE="Salinity on the 20 degree isotherm" integrand_20
yes? CONTOUR/LEV=(33,37,.2)/SIZE=0.12 integrand_20[Z=@SUM]
yes? GO fland !continental fill</b></b></b></b></b></pre><p align="left"></p>
<p align="left">Example 4: month with warmest sea surface temperatures</p>
<p align="left">Use the COADS data set to determine the month in which the SST is warmest across the Pacific Ocean. In this example we use the same principles as above to create an integrating kernel on the time axis. Using this kernel we determine the value of the time step index (which is also the month number, 112) at the time of maximum SST (Figure 3_6).</p>
<p><b><b><b><b><b><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig06.gif"><img alt="Ch3_fig06" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig06.gif" width="200" /></a> </b></b></b></b></b></p>
<p align="left"></p>
<pre>
<b><b><b><b><b>yes? SET DATA coads_climatology ! monthly surface climatology
yes? SET REGION/X=100E:50W/Y=45S:45N ! Pacific Ocean
yes? SET MODE CAL:MONTH
yes? LET zero_at_warmest = sst - sst[l=@max]
yes? LET integrand = L[G=sst] * zero_at_warmest[L=@WEQ] ! "L" is 1 to 12
yes? SET VARIABLE/TITLE="Month of warmest SST" integrand
yes? SHADE/L=1:12/PAL=inverse_grayscale integrand[L=@SUM]</b></b></b></b></b></pre><p align="left"></p>
<p align="left">Example 5: values of variable at depths of a second variable:</p>
<p align="left">Suppose I have V1(x,y,z) and MY_ZEES(x,y), and I want to find the values of V1 at depths MY_ZEES. The following will do that using @WEQ:</p>
<pre>
<b><b><b><b><b>yes? LET zero_at_my_zees = Z[g=v1]-my_zees
yes? LET kernel = zero_at_my_zees[Z=@WEQ:0]
yes? LET integrand = kernel*v1
yes? LET v1_on_my_zees = integrand[Z=@SUM]</b></b></b></b></b></pre><p></p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.28</b></b></b></b></b></p>
<p><a name="_VPINDEXENTRY_538" id="_VPINDEXENTRY_538"></a><a name="_VPID_176" id="_VPID_176"></a></p>
<p align="left" class="callout">@ITPinterpolate</p>
<p align="left">The @ITP transformation provides the same linear interpolation calculation that is turned on modally with SET MODE INTERPOLATE but with a higher level of control, as @ITP can be applied selectively to each axis. @ITP may be applied only to point locations along an axis. The result is the linear interpolation based on the adjoining values. Interpolation can be applied on an axis by axis and variable by variable basis like any other transformation. To apply interpolation use the transformation "@ITP" in the same way as, say, @SBX, specifying the desired location to which to interpolate. For example, on a Z axis with grid points at Z=10and Z=20 the syntax my_var[Z=<a href="mailto:14@ITP">14@ITP</a>] would interpolate to Z=14 with the computation</p>
<pre>
0.6*my_var[Z=10]+0.4*my_var[Z=20].</pre><p align="left">The example which follows illustrates the interpolation control that is possible using @ITP:</p>
<pre>
<b><b><b><b><b>! with modal interpolation

yes? SET DATA coads_climatology
yes? SET MODE INTERPOLATE
yes? LIST/L=1/X=180/Y=0 sst ! interpolates both lat and long
             VARIABLE : SEA SURFACE TEMPERATURE (Deg C)
             FILENAME : coads_climatology.cdf
             FILEPATH : /home/porter/tmap/ferret/linux/fer_dsets/data/
             LONGITUDE: 180E (interpolated)
             LATITUDE : 0 (interpolated)
             TIME     : 16-JAN 06:00
          28.36


! with no interpolation
yes? CANCEL MODE INTERPOLATE
yes? LIST/L=1/X=180/Y=0 sst ! gives value at 179E, 1S
             VARIABLE : SEA SURFACE TEMPERATURE (Deg C)
             FILENAME : coads_climatology.cdf
             FILEPATH : /home/porter/tmap/ferret/linux/fer_dsets/data/
             LONGITUDE: 179E
             LATITUDE : 1S
             TIME     : 16-JAN 06:00
          28.20

! using @ITP to interpolate in longitude, only
yes? LIST/L=1/Y=0 sst[X=180@ITP] ! latitude remains 1S
             VARIABLE : SEA SURFACE TEMPERATURE (Deg C)
             FILENAME : coads_climatology.cdf
             FILEPATH : /home/porter/tmap/ferret/linux/fer_dsets/data/
             LONGITUDE: 180E (interpolated)
             LATITUDE : 1S
             TIME     : 16-JAN 06:00
          28.53

</b></b></b></b></b></pre><p align="left">See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.29</b></b></b></b></b></p>
<p></p>
<p align="left" class="callout"><b><b><b><b><b><a name="_VPID_177" id="_VPID_177"></a><i><b><a name="_VPINDEXENTRY_539" id="_VPINDEXENTRY_539"></a></b></i><b><a name="_VPINDEXENTRY_540" id="_VPINDEXENTRY_540"></a><a name="_VPINDEXENTRY_541" id="_VPINDEXENTRY_541"></a>@CDAclosest distance above </b></b></b></b></b></b></p>
<p align="left">Syntax options:</p>
<table><tbody><tr><td>
<p align="left">@CDA</p>
</td>
<td>
<p align="left">Distance to closest valid point above each point along the indicated axis</p>
</td>
</tr><tr><td>
<p align="left">@CDA:n</p>
</td>
<td>
<p align="left">Closest distance to a valid point above the indicated points, searching only within n points</p>
</td>
</tr></tbody></table><p align="left">The transformation @CDA will compute at each grid point how far it is to the closest valid point above this coordinate position on the indicated axis. The optional argument n gives a maximum distance to search for valid data. N is in integer units: how far to search forward in index space. The distance will be reported in the units of the axis. If a given grid point is valid (not missing) then the result of @CDA for that point will be 0.0. See the example for @CDB below. The result's units are now axis units, e.g., degrees of longitude to the next valid point above. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation, and see the example under @CDB below.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.30</b></b></b></b></b></p>
<p></p>
<p align="left" class="callout"><b><b><b><b><b><a name="_VPID_178" id="_VPID_178"></a><b><a name="_VPINDEXENTRY_542" id="_VPINDEXENTRY_542"></a><a name="_VPINDEXENTRY_543" id="_VPINDEXENTRY_543"></a><a name="_VPINDEXENTRY_544" id="_VPINDEXENTRY_544"></a>@CDBclosest distance below </b></b></b></b></b></b></p>
<p align="left">Syntax options:</p>
<table><tbody><tr><td>
<p align="left">@CDB</p>
</td>
<td>
<p align="left">Distance to closest valid point below each point along the indicated axis</p>
</td>
</tr><tr><td>
<p align="left">@CDB:n</p>
</td>
<td>
<p align="left">Closest distance to a valid point below the indicated points, searching only within n points</p>
</td>
</tr></tbody></table><p align="left">The transformation @CDB will compute at each grid point how far it is to the closest valid point below this coordinate position on the indicated axis. The optional argument n gives a maximum distance to search for valid data. N is in integer units: how far to search backward in index space. The distance will be reported in the units of the axis. The distance will be reported in the units of the axis. If a given grid point is valid (not missing) then the result of @CDB for that point will be 0.0. The result's units are now axis units, e.g., degrees of longitude to the next valid point below. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p><b><b><b><b><b><a name="Chapter3-@CDB_example" id="Chapter3-@CDB_example"></a></b></b></b></b></b></p>
<p align="left"><b><b><b><b><b><b>Example: </b></b></b></b></b></b></p>
<pre>
<b><b><b><b><b>yes? USE coads_climatology
yes? SET REGION/x=125w:109w/y=55s/l=1
yes? LIST sst, sst[x=@cda], sst[x=@cdb] ! results below

 Column  1: SST is SEA SURFACE TEMPERATURE (Deg C)
 Column  2: SST[X=@CDA:1] is SEA SURFACE TEMPERATURE (Deg C)(closest dist above on X)
 Column  3: SST[X=@CDB:1] is SEA SURFACE TEMPERATURE (Deg C)(closest dist below on X)

                SST    SST    SST
125W   / 108:  6.700  0.000  0.000
123W   / 109:   ....  8.000  2.000
121W   / 110:   ....  6.000  4.000
119W   / 111:   ....  4.000  6.000
117W   / 112:   ....  2.000  8.000
115W   / 113:  7.800  0.000  0.000
113W   / 114:  7.800  0.000  0.000
111W   / 115:   ....  2.000  2.000
109W   / 116:  8.300  0.000  0.000


yes? list sst[x=121w], sst[x=121w@cda:2], sst[x=121w@cda:5], sst[x=121w@cdb:5]

</b></b></b></b></b></pre><p></p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.31</b></b></b></b></b></p>
<p><b><b><b><b><a name="_VPINDEXENTRY_545" id="_VPINDEXENTRY_545"></a><a name="_VPID_179" id="_VPID_179"></a></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@CIAclosest index above </b></b></b></b></b></b></p>
<p align="left">Syntax options:</p>
<table><tbody><tr><td>
<p align="left">@CIA</p>
</td>
<td>
<p align="left">Index of closest valid point above each point along the indicated axis</p>
</td>
</tr><tr><td>
<p align="left">@CIA:n</p>
</td>
<td>
<p align="left">Closest distance in index space to a valid point above the point at index or coordinate m, searching only within n points</p>
</td>
</tr></tbody></table><p align="left"></p>
<p align="left">The transformation @CIA will compute at each grid point how far it is to the closest valid point above this coordinate position on the indicated axis. The optional argument n gives a maximum distance to search from the index or coordinate location m for valid data. N is in integer units: how far to search forward in index space. The distance will be reported in terms of the number of points (distance in index space). If a given grid point is valid (not missing) then the result of @CIA for that point will be 0.0. See the example for @CIB below. The units of the result are grid indices; integer number of grid units to the next valid point above. See the <a href="XPRESSIONS.html#GeneralInfo">General Information</a> on transformations for important details about this transformation, and see the example under @CIB below.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.32</b></b></b></b></b></p>
<p><b><b><b><b><a name="_VPINDEXENTRY_548" id="_VPINDEXENTRY_548"></a><a name="_VPID_180" id="_VPID_180"></a></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@CIBclosest index below </b></b></b></b></b></b></p>
<p align="left">Syntax options:</p>
<table><tbody><tr><td>
<p align="left">@CIB</p>
</td>
<td>
<p align="left">Index of closest valid point below each point along the indicated axis</p>
</td>
</tr><tr><td>
<p align="left">@CIB:n</p>
</td>
<td>
<p align="left">Closest distance in index space to a valid point below the indicated points, searching only within n points</p>
</td>
</tr></tbody></table><p align="left">The transformation @CIB will compute at each grid point how far it is to the closest valid point below this coordinate position on the indicated axis. The optional argument n gives a maximum distance to search for valid data. N is in integer units: how far to search backward in index space. The distance will be reported in terms of the number of points (distance in index space). If a given grid point is valid (not missing) then the result of @CIB for that point will be 0.0. The units of the result are grid indices, integer number of grid units to the next valid point below. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p><b><b><b><b><b><a name="Chapter3-@CIB_example" id="Chapter3-@CIB_example"></a></b></b></b></b></b></p>
<p align="left"><b><b><b><b><b><b>Example: </b></b></b></b></b></b></p>
<pre>
<b><b><b><b><b>yes? USE coads_climatology
yes? SET REGION/x=125w:109w/y=55s/l=1
yes? LIST sst, sst[x=@cia], sst[x=@cib] ! results below

Column 1: SST is SEA SURFACE TEMPERATURE (Deg C)
Column 2: SST[X=@CIA:1] is SEA SURFACE TEMPERATURE (Deg C) (closest dist above on X ...)
Column 3: SST[X=@CIB:1] is SEA SURFACE TEMPERATURE (Deg C) (closest dist below on X ...)

SST SST SST
125W / 108: 6.700 0.000 0.000
123W / 109: .... 4.000 1.000
121W / 110: .... 3.000 2.000
119W / 111: .... 2.000 3.000
117W / 112: .... 1.000 4.000
115W / 113: 7.800 0.000 0.000
113W / 114: 7.800 0.000 0.000
111W / 115: .... 1.000 1.000
109W / 116: 8.300 0.000 0.000

yes? list sst[x=121w], sst[x=121w@cia:2], sst[x=121w@cia:5], \
sst[x=121w@cib:5]
DATA SET: /home/ja9/tmap/fer_dsets/data/coads_climatology.cdf
LONGITUDE: 121W
LATITUDE: 55S
TIME: 16-JAN 06:00
Column 1: SST is SEA SURFACE TEMPERATURE (Deg C)
Column 2: SST[X=@CIA:2] is SEA SURFACE TEMPERATURE (Deg C)
Column 3: SST[X=@CIA:5] is SEA SURFACE TEMPERATURE (Deg C)
Column 4: SST[X=@CIB:5] is SEA SURFACE TEMPERATURE (Deg C)
SST SST SST SST</b></b></b></b></b></pre><pre>
<b><b><b><b><b>I / *: .... .... 3.000 2.00</b></b></b></b></b></pre><p><b><b><b><b><b><a name="Chapter3-EVNT" id="Chapter3-EVNT"></a></b></b></b></b></b></p>
<p class="callout"><b><b><b><b><b><a name="_VPINDEXENTRY_550" id="_VPINDEXENTRY_550"></a><a name="_VPINDEXENTRY_551" id="_VPINDEXENTRY_551"></a><a name="_VPINDEXENTRY_552" id="_VPINDEXENTRY_552"></a>@EVNT--event mask</b></b></b></b></b></p>
<p align="left">This transformation locates "events" in data. An event is the occurrence of a particular value. The output steps up by a value of 1 for each event, starting from a value of zero. (If the variable takes on exactly the value of the event trigger the +1 step occurs on that point. If it crosses the value, either ascending or descending, the step occurs on the first point after the crossing.)</p>
<p align="left">For example, if you wanted to know the maximum value of the second wave, where (say) rising above a magnitude of 0.1 in variable "ht" represented the onset of a wave, then</p>
<pre>
<b><b><b><b><b>yes? LET wave2_mask = IF ht[T=@evnt:0.1] EQ 2 THEN 1</b></b></b></b></b></pre><p align="left">is a mask for the second wave, only. The maximum waveheight may be found with</p>
<pre>
yes? LET wave2_ht = wave2_mask * ht
yes? LET wave2_max_ht = wave2_ht[T=@max]</pre><p align="left">Note that @EVNT can be used together with @LOC and @WEQ to determine the location when an event occurs and the value of other variables as the event occurs, respectively. Since there may be missing values in the data, and since the instant at which the event occurs may lie immediately before the step in value for the event mask, the following expression is a general solution.</p>
<pre>
yes? LET event_mask = my_var[t=@evnt:&lt;value&gt;]
yes? LET event_n = IF ABS(MISSING(event_mask[L=@SBX],event_mask)-n) LE 0.67 THEN my_var</pre><p align="left">So that</p>
<pre>
event_n[t=@LOC:&lt;value&gt;]</pre><p align="left">is the time at which event "n" occurs, and</p>
<pre>
event_n[t=@WEQ:&lt;value&gt;]</pre><p align="left">is the integrating kernel (see <a href="XPRESSIONS.html#_VPINDEXENTRY_532">@WEQ</a>). See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p class="secHeader"><b><b><b><b><a name="median_trans" id="median_trans"></a><b>Chapter 3, Section 2.4.33</b></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@MEDmedian transform smoother</b></b></b></b></b></b></p>
<p align="left">Syntax:</p>
<table><tbody><tr><td>
<p align="left">@MED:n</p>
</td>
<td>
<p align="left">Replace each value with its median based on the surrounding n points, where n must be odd.</p>
</td>
</tr></tbody></table><p align="left"></p>
<p align="left">The transformation @MED applies a median window, replacing each value with its median, to smooth the variable along the indicated axis. The width of the median window is the number of points given as an argument to the transformation. The default width is 3 points. No weighting is applied, regardless of the sizes of the grid boxes, making this transformation best suited to axes with equally spaced points. If there is missing data within the window, the median is based on the points that are present. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left"><b><b><b><b>Example:</b></b></b></b></p>
<pre>
<b><b><b><b>yes? PLOT/X=160W/Y=0 u[L=1:120@MED:5]</b></b></b></b></pre><p align="left">The transformation @MED does not reduce the number of points along the axis; it replaces each of the original values with the median of its surrounding points. Regridding can be used to reduce the number of points.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.34</b></b></b></b></b></p>
<p><b><b><b><b><a name="_smn_trans" id="_smn_trans"></a><a id="smn_trans" name="smn_trans"></a></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@SMN - Smoothing with minimum</b></b></b></b></b></b></p>
<p align="left">Syntax:</p>
<p align="left">SMN:n</p>
<p align="left">Replace each value with its minimum based on the surrounding n points, where n must be odd.</p>
<p></p>
<p align="left">The transformation @SMN applies a minimum window, replacing each value with its minimum, to smooth the variable along the indicated axis. The width of the minimum window is the number of points given as an argument to the transformation. The default width is 3 points. No weighting is applied, regardless of the sizes of the grid boxes, making this transformation best suited to axes with equally spaced points. If there is missing data within the window, the minimum is based on the points that are present. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.35</b></b></b></b></b></p>
<p><b><b><b><b><a name="_smx_trans" id="_smx_trans"></a></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@SMX - Smoothing with maximum</b></b></b></b></b></b></p>
<p align="left">Syntax :</p>
<table><tbody><tr><td>
<p align="left">SMX:n</p>
</td>
<td>
<p align="left">Replace each value with its maximum based on the surrounding n points, where n must be odd.</p>
</td>
</tr></tbody></table><p></p>
<p align="left">The transformation @SMX applies a maximum window, replacing each value with its maximum, to smooth the variable along the indicated axis. The width of the maximum window is the number of points given as an argument to the transformation. The default width is 3 points. No weighting is applied, regardless of the sizes of the grid boxes, making this transformation best suited to axes with equally spaced points. If there is missing data within the window, the maximum is based on the points that are present. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p></p>
<p class="secHeader"><b><b><b><b><b>Chapter 3, Section 2.4.36</b></b></b></b></b></p>
<p><b><b><b><b><a name="_wgt_trans" id="_wgt_trans"></a></b></b></b></b></p>
<p align="left" class="callout"><b><b><b><b><b><b>@WGT - return weights </b></b></b></b></b></b></p>
<p align="left">Syntax:</p>
<table><tbody><tr><td>
<p align="left">@WGT</p>
</td>
<td>
<p align="left">Replace each value with the weights used in an averaging or integral on the same grid.</p>
</td>
</tr></tbody></table><p align="left"></p>
<p align="left">The transformation @WGT returns the weights used in an equivalent transformation averaging or integrating on the same grid. The results are expressed in the same standard units as integrals: Meters for degrees longitude or latitude on the surface of the earth and seconds in time; for axes with other units the results are in the units of the axis. See the <strong><a href="XPRESSIONS.html#GeneralInfo">General Information</a></strong> on transformations for important details about this transformation.</p>
<p align="left"><b><b><b><b>Example:</b></b></b></b></p>
<pre>
yes? use levitus_climatology
yes? list/y=0/x=140w/z=0:90 temp[z=@wgt]
             VARIABLE : TEMPERATURE (DEG C)
                        weights for avg,int on Z
             FILENAME : levitus_climatology.cdf
             FILEPATH : /home/users/tmap/ferret/linux/fer_dsets/data/
             SUBSET   : 7 points (DEPTH (m))
             LONGITUDE: 140.5W
             LATITUDE : 0.5S
              140.5W 
              200
 0      / 1:   5.00
 10     / 2:  10.00
 20     / 3:  10.00
 30     / 4:  15.00
 50     / 5:  22.50
 75     / 6:  25.00
 100    / 7:   2.50

</pre><p align="left"></p>
<p align="left" class="secHeader">Ch3 Sec2.5. <a name="Chapter3_if-then-else-masking" id="Chapter3_if-then-else-masking"></a><a name="_VPID_181" id="_VPID_181"></a><a name="_VPINDEXENTRY_553" id="_VPINDEXENTRY_553"></a><a name="_VPINDEXENTRY_554" id="_VPINDEXENTRY_554"></a><a name="_VPINDEXENTRY_555" id="_VPINDEXENTRY_555"></a>IF-THEN logic ("masking") and IFV-THEN</p>
<p align="left">Ferret expressions can contain embedded IF-THEN-ELSE logic. The syntax of the IF-THEN logic is simply (by example)</p>
<pre>
LET a = IF a1 GT b THEN a1 ELSE a2
 or
LET a = IFV a1 GT b then a1 ELSE a2
</pre><p align="left">(read as "if a1 is greater than b then a1 else a2").</p>
<p align="left">The IFV syntax differs from IF in that the result of the IF is false wherever the value is missing or if it is zero. IFV returns false only if the value is missing - valid zero values are treated as true. All of the syntax for IF in this section is also valid using IFV. IFV was introduced with Ferret version 6.71. Note that there is no IFV syntax for conditional execution. There is a further example using IFV at the end of this section.</p>
<p align="left">This syntax is especially useful in creating masks that can be used to perform calculations over regions of arbitrary shape. For example, we can compute the average air-sea temperature difference in regions of high wind speed using this logic:</p>
<pre>
SET DATA coads_climatology
SET REGION/X=100W:0/Y=0:80N/T=15-JAN
LET fast_wind = IF wspd GT 10 THEN 1
LET tdiff = airt - sst
LET fast_tdiff = tdiff * fast_wind</pre><p align="left">When defining a mask, if no ELSE statement is used, there is an implied "ELSE bad-value".</p>
<p align="left">We can also make compound IF-THEN statements. The parentheses are included here for clarity, but are not necessary.</p>
<pre>
LET a = IF (b GT c AND b LT d) THEN e 
LET a = IF (b GT c OR b LT d) THEN e 
LET a = IF (b GT c AND b LT d) THEN e ELSE q</pre><p align="left">The user may find it clearer to think of this logic as WHERE-THEN-ELSE to avoid confusion with the IF used to control conditional execution of commands. Again, if there is no ELSE, there is an implied "ELSE bad-value". Compound and multi-line IF-THEN-ELSE constructs are not allowed in embedded logic.</p>
<p align="left">Note that if the data contains values that are exactly Zero, then "IF var" (comparison to the missing-flag for the variable) will be false when the data is missing and ALSO when its value is zero. This is because Ferret does not have a logical data type, and so zero is equivalent to FALSE. See the documentation on<a href="../commands-reference/IF.html"> the IF syntax</a>. To handle this case, you can use the IFV keyword, or with classic "IF", get the missing-value for the variable and use it to define the expression.</p>
<pre>
yes? LET mask = IF var NE `var,RETURN=bad` THEN 1
or
yes? LET mask = IFV var THEN 1
</pre><p align="left"><b>Example demonstrating IFV:</b> Define and plot a variable that has integer values: 0, 1,... 6. Notice the missing data in the southern ocean. A mask using IF will mask out all the zero values, whereas a mask with IFV treats those zero's as valid.</p>
<pre>
! Define the variable with values 0 through 6.
yes? USE coads_climatology; SET REG/L=1
yes? LET intvar = INT(sst/5)

! Define a mask using this variable and IF
yes? LET mask = IF intvar THEN 1

! Define a mask using this variable
yes? LET maskV = IFV intvar THEN 1

yes? set view ul; shade/title="Variable with a few integer values"/lev=(0,6,1) intvar
yes? go land

yes? set view ll; shade/title="Mask with classic IF: IF var then 1" mask
yes? go land

yes? set view lr
yes? shade/title="Mask with ifValid IFV: IFV var then 1" maskV
yes? go land

</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=58:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/thumbnails/image/Ch3_ifv.png" width="832" height="832" alt="Ch3_ifv.png" title="Demonstration of IFV masking" /></div><!-- END scald=58 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--copyright=58--><!--END copyright=58--></div>
</div>
</div>
<p></p>
<p class="secHeader"><a name="_constant_arrays" id="_constant_arrays"></a>Chapter 3, Section 2.6</p>
<p align="left" class="callout">Lists of constants ("constant arrays")</p>
<p align="left">The syntax {val1, val2, val3} is a quick way to enter a list of constants. For example</p>
<pre>
<b><b><b><b><b>yes? LIST {1,3,5}, {1,,5}
X: 0.5 to 3.5
Column 1: {1,3,5}
Column 2: {1,,5}
{1,3,5} {1,,5} 
1 / 1: 1.000 1.000
2 / 2: 3.000 ....
3 / 3: 5.000 5.000</b></b></b></b></b></pre><p align="left">Note that a constant variable is always an array oriented in the X direction To create a constant aray oriented in, say, the Y direction use YSEQUENCE</p>
<pre>
yes? STAT/BRIEF YSEQUENCE({1,3,5})

Total # of data points: 3 (1*3*1*1)
# flagged as bad data: 0
Minimum value: 1
Maximum value: 5
Mean value: 3 (unweighted average)</pre><p align="left">Below are two examples illustrating uses of constant arrays. Try running the the constant_array_demo journal script.</p>
<p align="left">Ex. 1) plot a triangle (Figure 3_7)</p>
<p><b><b><b><b><b><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig07.gif"><img alt="Ch3_fig07" class="image-inline" height="174" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig07.gif" width="200" /></a> </b></b></b></b></b></p>
<pre>
<b><b><b><b><b>LET xtriangle = {0,.5,1} 
LET ytriangle = {0,1,0}
POLYGON/LINE=8 xtriangle, ytriangle, 0</b></b></b></b></b></pre><p></p>
<p align="left">Or multiple triangles (Figure 3_8) See polymark.jnl regarding this figure</p>
<p><a href="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig08.gif"><img alt="Ch3_fig08" class="image-inline" height="172" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/images/documentation/users-guide/user_guide_images/Ch3_fig08.gif" width="200" /></a></p>
<p align="left">Ex. 2) Sample Jan, June, and December from sst in coads_climatology</p>
<pre>
<b><b><b><b><b>yes? USE coads_climatology
yes? LET my_sst_months = SAMPLEL(sst, {1,6,12})
yes? STAT/BRIEF my_sst_months

Total # of data points: 48600 (180*90*1*3)
# flagged as bad data: 21831
Minimum value: -2.6
Maximum value: 31.637
Mean value: 17.571 (unweighted average)</b></b></b></b></b></pre><p></p>
<p></p>
</div>
      </div>
</div>
    
  </div>
  
  <div class="clearfix">
          <nav class="links node-links clearfix"></nav>
    
      </div>
</article>
    </div>
  </div>
</div>      </div>
</div>  </div>
</div></section>    
  
      <footer id="section-footer" class="section section-footer">
  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p><a href="https://www.pmel.noaa.gov/"><img alt="PMEL logo" border="0" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/PMEL-meatball-logo-sm.png" style="width: 110px; height: 110px;" /></a></p>
    </div>
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p><a href="https://www.noaa.gov/">National Oceanic and Atmospheric Administration</a><br /><a href="https://www.pmel.noaa.gov/">Pacific Marine Environmental Laboratory</a> | <a href="https://ferret.pmel.noaa.gov/Ferret">Ferret Support</a><br /><a href="mailto:oar.pmel.contact_ferret@noaa.gov">oar.pmel.contact_ferret@noaa.gov </a></p>
    </div>
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first leaf"><a href="https://www.commerce.gov/" title="The United States Department of Commerce">DOC</a></li>
<li class="leaf"><a href="https://www.noaa.gov/" title="The National Oceanographic and Atmospheric Administration">NOAA</a></li>
<li class="leaf"><a href="https://www.research.noaa.gov/" title="Department of Commerce &gt; NOAA &gt; Office of Oceanic and Atmospheric Research">OAR</a></li>
<li class="leaf"><a href="https://www.pmel.noaa.gov/">PMEL</a></li>
<li class="leaf"><a href="https://www.pmel.noaa.gov/project/science-data-integration" target="_blank">SDIG</a></li>
<li class="leaf"><a href="https://www.noaa.gov/protecting-your-privacy" target="_blank">Privacy Policy</a></li>
<li class="last leaf"><a href="https://www.noaa.gov/disclaimer" target="_blank">Disclaimer</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first last leaf"><a href="https://ferret.pmel.noaa.gov/Ferret/sitemap" title="Title of Site map page">Ferret Sitemap</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>

<!-- Mirrored from ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2023 18:11:31 GMT -->
</html>